{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/booking.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ViewBookingsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"i\", 5);\n    i0.ɵɵelementStart(2, \"p\", 6);\n    i0.ɵɵtext(3, \"No students have booked your batches yet.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-success\": a0,\n    \"bg-warning text-dark\": a1,\n    \"bg-danger\": a2\n  };\n};\nfunction ViewBookingsComponent_div_4_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 16);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.studentName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.mobileNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 5, item_r4.bookingDate));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(7, _c0, item_r4.status === \"Booked\" || item_r4.status === \"Confirmed\", item_r4.status === \"Pending\", item_r4.status === \"Cancelled\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.status, \" \");\n  }\n}\nfunction ViewBookingsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"h4\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 10);\n    i0.ɵɵelement(5, \"i\", 11);\n    i0.ɵɵtext(6, \" Service: \");\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"p\", 12);\n    i0.ɵɵelement(10, \"i\", 13);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"table\", 14)(14, \"thead\")(15, \"tr\")(16, \"th\");\n    i0.ɵɵtext(17, \"Student\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"Mobile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"Booking Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Status\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"tbody\");\n    i0.ɵɵtemplate(25, ViewBookingsComponent_div_4_tr_25_Template, 11, 11, \"tr\", 15);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const batch_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", batch_r2.batchName, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(batch_r2.serviceName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Starts on: \", i0.ɵɵpipeBind1(12, 4, batch_r2.startDate), \" \");\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", batch_r2.bookings);\n  }\n}\nexport class ViewBookingsComponent {\n  constructor(bookingApi, router) {\n    this.bookingApi = bookingApi;\n    this.router = router;\n    this.groupedBookings = [];\n  }\n  ngOnInit() {\n    this.loadInstructorBookings();\n  }\n  loadInstructorBookings() {\n    const instructorId = localStorage.getItem('instructorId');\n    if (!instructorId) {\n      alert('Instructor not logged in');\n      this.router.navigate(['/login']);\n      return;\n    }\n    this.bookingApi.getBookingsByInstructor(instructorId).subscribe({\n      next: res => {\n        const grouped = {};\n        res.forEach(booking => {\n          const batchId = booking.batch.batchId;\n          if (!grouped[batchId]) {\n            grouped[batchId] = {\n              batchName: booking.batch.batchName,\n              serviceName: booking.batch.serviceName,\n              startDate: booking.batch.startDate,\n              bookings: []\n            };\n          }\n          grouped[batchId].bookings.push({\n            studentName: booking.student.fullName,\n            mobileNumber: booking.mobileNumber,\n            bookingDate: booking.bookingDate,\n            status: booking.status\n          });\n        });\n        this.groupedBookings = Object.values(grouped);\n      },\n      error: err => {\n        console.error(err);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ViewBookingsComponent_Factory(t) {\n      return new (t || ViewBookingsComponent)(i0.ɵɵdirectiveInject(i1.BookingService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewBookingsComponent,\n      selectors: [[\"app-view-bookings\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"container\", \"py-4\"], [1, \"page-title\", \"text-primary-custom\", \"mb-4\"], [\"class\", \"text-center text-muted mt-5\", 4, \"ngIf\"], [\"class\", \"mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\", \"text-muted\", \"mt-5\"], [1, \"bi\", \"bi-info-circle\", \"fs-2\"], [1, \"mt-2\"], [1, \"mb-4\"], [1, \"card\", \"card-custom\", \"p-4\", \"shadow-sm\"], [1, \"fw-bold\", \"text-primary-custom\"], [1, \"text-muted\", \"mb-1\"], [1, \"bi\", \"bi-book\"], [1, \"text-muted\", \"mb-3\"], [1, \"bi\", \"bi-calendar-event\"], [1, \"table\", \"table-striped\", \"align-middle\", \"mt-3\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", \"px-3\", \"py-2\", 3, \"ngClass\"]],\n      template: function ViewBookingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Student Bookings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ViewBookingsComponent_div_3_Template, 4, 0, \"div\", 2);\n          i0.ɵɵtemplate(4, ViewBookingsComponent_div_4_Template, 26, 6, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.groupedBookings.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.groupedBookings);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe],\n      styles: [\"\\n\\n\\n\\n.page-title[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  font-weight: 700;\\n  color: #6f2cf4; \\n\\n}\\n\\n\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%] {\\n  border-radius: 18px;\\n  background: linear-gradient(\\n    135deg,\\n    #f8f1ff 0%,\\n    #f3e8ff 50%,\\n    #f0e9ff 100%\\n  );\\n  border: none;\\n}\\n\\n\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  color: #6f2cf4;\\n  margin-bottom: 6px;\\n}\\n\\n.card-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  color: #6b7280;\\n}\\n\\n\\n\\n\\n\\n.table[_ngcontent-%COMP%] {\\n  margin-top: 16px;\\n  background: #ffffff;\\n  border-radius: 12px;\\n  overflow: hidden;\\n}\\n\\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\n  background-color: #f3e8ff;\\n}\\n\\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  color: #5b21b6;\\n  font-weight: 600;\\n  font-size: 14px;\\n  border-bottom: none;\\n}\\n\\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  vertical-align: middle;\\n}\\n\\n.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd) {\\n  background-color: #faf7ff;\\n}\\n\\n\\n\\n\\n\\n.status-badge[_ngcontent-%COMP%] {\\n  padding: 6px 14px;\\n  font-size: 0.85rem;\\n  border-radius: 999px;\\n  font-weight: 600;\\n  display: inline-block;\\n  min-width: 90px;\\n  text-align: center;\\n}\\n\\n\\n\\n.status-success[_ngcontent-%COMP%] {\\n  background-color: #22c55e; \\n\\n  color: white;\\n}\\n\\n\\n\\n.status-warning[_ngcontent-%COMP%] {\\n  background-color: #fde68a;\\n  color: #92400e;\\n}\\n\\n\\n\\n.status-danger[_ngcontent-%COMP%] {\\n  background-color: #ef4444;\\n  color: white;\\n}\\n\\n\\n\\n\\n\\n\\n.text-muted[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  color: #a78bfa;\\n}\\n\\n\\n\\n\\n\\n@media (max-width: 768px) {\\n  .page-title[_ngcontent-%COMP%] {\\n    font-size: 22px;\\n  }\\n\\n  .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 12px;\\n  }\\n\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 8px 12px;\\n  }\\n\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]::before {\\n    content: attr(data-label);\\n    font-weight: 600;\\n    color: #6f2cf4;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW5zdHJ1Y3Rvci92aWV3LWJvb2tpbmdzL3ZpZXctYm9va2luZ3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7a0NBRWtDO0FBQ2xDO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjLEVBQUUsbUJBQW1CO0FBQ3JDOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSxtQkFBbUI7RUFDbkI7Ozs7O0dBS0M7RUFDRCxZQUFZO0FBQ2Q7O0FBRUE7O2tDQUVrQztBQUNsQztFQUNFLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztBQUNoQjs7QUFFQTs7a0NBRWtDO0FBQ2xDO0VBQ0UsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTs7a0NBRWtDO0FBQ2xDO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixvQkFBb0I7RUFDcEIsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtFQUNyQixlQUFlO0VBQ2Ysa0JBQWtCO0FBQ3BCOztBQUVBLCtCQUErQjtBQUMvQjtFQUNFLHlCQUF5QixFQUFFLG1CQUFtQjtFQUM5QyxZQUFZO0FBQ2Q7O0FBRUEscUJBQXFCO0FBQ3JCO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7QUFDaEI7O0FBRUEsb0JBQW9CO0FBQ3BCO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDs7O0FBR0E7O2tDQUVrQztBQUNsQztFQUNFLGNBQWM7QUFDaEI7O0FBRUE7O2tDQUVrQztBQUNsQztFQUNFO0lBQ0UsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLGFBQWE7RUFDZjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixnQkFBZ0I7SUFDaEIsY0FBYztFQUNoQjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBQYWdlIFRpdGxlXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5wYWdlLXRpdGxlIHtcclxuICBmb250LXNpemU6IDI4cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICBjb2xvcjogIzZmMmNmNDsgLyogUHJpbWFyeSBQdXJwbGUgKi9cclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBDYXJkIFN0eWxpbmdcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuLmNhcmQtY3VzdG9tIHtcclxuICBib3JkZXItcmFkaXVzOiAxOHB4O1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcclxuICAgIDEzNWRlZyxcclxuICAgICNmOGYxZmYgMCUsXHJcbiAgICAjZjNlOGZmIDUwJSxcclxuICAgICNmMGU5ZmYgMTAwJVxyXG4gICk7XHJcbiAgYm9yZGVyOiBub25lO1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEJhdGNoIEhlYWRlclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG4uY2FyZC1jdXN0b20gaDQge1xyXG4gIGNvbG9yOiAjNmYyY2Y0O1xyXG4gIG1hcmdpbi1ib3R0b206IDZweDtcclxufVxyXG5cclxuLmNhcmQtY3VzdG9tIHAge1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBjb2xvcjogIzZiNzI4MDtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBUYWJsZSBTdHlsaW5nXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi50YWJsZSB7XHJcbiAgbWFyZ2luLXRvcDogMTZweDtcclxuICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuLnRhYmxlIHRoZWFkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNlOGZmO1xyXG59XHJcblxyXG4udGFibGUgdGhlYWQgdGgge1xyXG4gIGNvbG9yOiAjNWIyMWI2O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIGJvcmRlci1ib3R0b206IG5vbmU7XHJcbn1cclxuXHJcbi50YWJsZSB0Ym9keSB0ZCB7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbi50YWJsZS1zdHJpcGVkIHRib2R5IHRyOm50aC1vZi10eXBlKG9kZCkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWY3ZmY7XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgU3RhdHVzIEJhZGdlc1xyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG4uc3RhdHVzLWJhZGdlIHtcclxuICBwYWRkaW5nOiA2cHggMTRweDtcclxuICBmb250LXNpemU6IDAuODVyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogOTk5cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgbWluLXdpZHRoOiA5MHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLyogR1JFRU4gw6LCgMKTIEJvb2tlZCAvIENvbmZpcm1lZCAqL1xyXG4uc3RhdHVzLXN1Y2Nlc3Mge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMmM1NWU7IC8qIFRhaWx3aW5kIGdyZWVuICovXHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4vKiBZRUxMT1cgw6LCgMKTIFBlbmRpbmcgKi9cclxuLnN0YXR1cy13YXJuaW5nIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmRlNjhhO1xyXG4gIGNvbG9yOiAjOTI0MDBlO1xyXG59XHJcblxyXG4vKiBSRUQgw6LCgMKTIENhbmNlbGxlZCAqL1xyXG4uc3RhdHVzLWRhbmdlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VmNDQ0NDtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEVtcHR5IFN0YXRlXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi50ZXh0LW11dGVkIGkge1xyXG4gIGNvbG9yOiAjYTc4YmZhO1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFJlc3BvbnNpdmUgQWRqdXN0bWVudHNcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgLnBhZ2UtdGl0bGUge1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gIH1cclxuXHJcbiAgLnRhYmxlIHRoZWFkIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG5cclxuICAudGFibGUgdGJvZHkgdHIge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xyXG4gIH1cclxuXHJcbiAgLnRhYmxlIHRib2R5IHRkIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBwYWRkaW5nOiA4cHggMTJweDtcclxuICB9XHJcblxyXG4gIC50YWJsZSB0Ym9keSB0ZDo6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1sYWJlbCk7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgY29sb3I6ICM2ZjJjZjQ7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","item_r4","studentName","mobileNumber","ɵɵpipeBind1","bookingDate","ɵɵproperty","ɵɵpureFunction3","_c0","status","ɵɵtextInterpolate1","ɵɵtemplate","ViewBookingsComponent_div_4_tr_25_Template","batch_r2","batchName","serviceName","startDate","bookings","ViewBookingsComponent","constructor","bookingApi","router","groupedBookings","ngOnInit","loadInstructorBookings","instructorId","localStorage","getItem","alert","navigate","getBookingsByInstructor","subscribe","next","res","grouped","forEach","booking","batchId","batch","push","student","fullName","Object","values","error","err","console","ɵɵdirectiveInject","i1","BookingService","i2","Router","selectors","decls","vars","consts","template","ViewBookingsComponent_Template","rf","ctx","ViewBookingsComponent_div_3_Template","ViewBookingsComponent_div_4_Template","length"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\instructor\\view-bookings\\view-bookings.component.ts","C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\instructor\\view-bookings\\view-bookings.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { BookingService } from '../../services/booking.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-view-bookings',\n  templateUrl: './view-bookings.component.html',\n  styleUrls: ['./view-bookings.component.css']\n})\nexport class ViewBookingsComponent implements OnInit {\n\n  groupedBookings: any[] = [];\n\n  constructor(\n    private bookingApi: BookingService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadInstructorBookings();\n  }\n\n  loadInstructorBookings() {\n    const instructorId = localStorage.getItem('instructorId');\n\n    if (!instructorId) {\n      alert('Instructor not logged in');\n      this.router.navigate(['/login']);\n      return;\n    }\n\n    this.bookingApi.getBookingsByInstructor(instructorId).subscribe({\n      next: (res: any[]) => {\n\n        const grouped: any = {};\n\n        res.forEach((booking) => {\n          const batchId = booking.batch.batchId;\n\n          if (!grouped[batchId]) {\n            grouped[batchId] = {\n              batchName: booking.batch.batchName,\n              serviceName: booking.batch.serviceName,\n              startDate: booking.batch.startDate,\n              bookings: []\n            };\n          }\n\n          grouped[batchId].bookings.push({\n            studentName: booking.student.fullName,\n            mobileNumber: booking.mobileNumber,\n            bookingDate: booking.bookingDate,\n            status: booking.status\n          });\n        });\n\n        this.groupedBookings = Object.values(grouped);\n      },\n      error: (err) => {\n        console.error(err);\n      }\n    });\n  }\n}\n","<div class=\"container py-4\">\n  <h2 class=\"page-title text-primary-custom mb-4\">Student Bookings</h2>\n\n  <!-- No bookings -->\n  <div *ngIf=\"groupedBookings.length === 0\" class=\"text-center text-muted mt-5\">\n    <i class=\"bi bi-info-circle fs-2\"></i>\n    <p class=\"mt-2\">No students have booked your batches yet.</p>\n  </div>\n\n  <!-- Grouped By Batch -->\n  <div *ngFor=\"let batch of groupedBookings\" class=\"mb-4\">\n    <div class=\"card card-custom p-4 shadow-sm\">\n      <!-- Batch Header -->\n      <h4 class=\"fw-bold text-primary-custom\">\n        {{ batch.batchName }}\n      </h4>\n\n      <p class=\"text-muted mb-1\">\n        <i class=\"bi bi-book\"></i>\n        Service: <strong>{{ batch.serviceName }}</strong>\n      </p>\n\n      <p class=\"text-muted mb-3\">\n        <i class=\"bi bi-calendar-event\"></i>\n        Starts on: {{ batch.startDate | date }}\n      </p>\n\n      <!-- Students Table -->\n      <table class=\"table table-striped align-middle mt-3\">\n        <thead>\n          <tr>\n            <th>Student</th>\n            <th>Mobile</th>\n            <th>Booking Date</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr *ngFor=\"let item of batch.bookings\">\n            <td>{{ item.studentName }}</td>\n            <td>{{ item.mobileNumber }}</td>\n            <td>{{ item.bookingDate | date }}</td>\n\n            <td>\n              <span\n                class=\"badge px-3 py-2\"\n                [ngClass]=\"{\n                  'bg-success':\n                    item.status === 'Booked' || item.status === 'Confirmed',\n                  'bg-warning text-dark': item.status === 'Pending',\n                  'bg-danger': item.status === 'Cancelled'\n                }\"\n              >\n                {{ item.status }}\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}