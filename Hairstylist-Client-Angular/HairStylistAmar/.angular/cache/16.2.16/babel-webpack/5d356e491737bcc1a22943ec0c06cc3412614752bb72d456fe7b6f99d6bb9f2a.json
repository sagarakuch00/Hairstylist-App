{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/booking.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction MyBookingsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"i\", 5);\n    i0.ɵɵelementStart(2, \"p\", 6);\n    i0.ɵɵtext(3, \"You have not booked any batches yet.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 7);\n    i0.ɵɵtext(5, \" Book a Batch \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MyBookingsComponent_div_4_div_1_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function MyBookingsComponent_div_4_div_1_div_17_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const booking_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.makePayment(booking_r3));\n    });\n    i0.ɵɵtext(2, \" Pay Now \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function MyBookingsComponent_div_4_div_1_div_17_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const booking_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.cancelBooking(booking_r3));\n    });\n    i0.ɵɵtext(4, \" Cancel \");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-success\": a0,\n    \"bg-warning text-dark\": a1,\n    \"bg-danger\": a2\n  };\n};\nfunction MyBookingsComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"h5\", 12);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 13);\n    i0.ɵɵelement(5, \"i\", 14);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 13);\n    i0.ɵɵelement(8, \"i\", 15);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 16);\n    i0.ɵɵelement(12, \"i\", 17);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 18);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, MyBookingsComponent_div_4_div_1_div_17_Template, 5, 0, \"div\", 19);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const booking_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(booking_r3.batch == null ? null : booking_r3.batch.batchName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Instructor: \", booking_r3.batch == null ? null : booking_r3.batch.instructor == null ? null : booking_r3.batch.instructor.name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Start Date: \", i0.ɵɵpipeBind1(10, 7, booking_r3.batch == null ? null : booking_r3.batch.startDate), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Booked on: \", i0.ɵɵpipeBind1(14, 9, booking_r3.bookingDate), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(11, _c0, booking_r3.status === \"Confirmed\", booking_r3.status === \"Pending\", booking_r3.status === \"Cancelled\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", booking_r3.status, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", booking_r3.status === \"Pending\");\n  }\n}\nfunction MyBookingsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, MyBookingsComponent_div_4_div_1_Template, 18, 15, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.bookings);\n  }\n}\nexport class MyBookingsComponent {\n  constructor(bookingApi, router) {\n    this.bookingApi = bookingApi;\n    this.router = router;\n    this.bookings = [];\n  }\n  ngOnInit() {\n    this.loadBookings();\n  }\n  loadBookings() {\n    const userId = localStorage.getItem(\"userId\");\n    if (!userId) {\n      alert(\"Please login again.\");\n      this.router.navigate(['/login']);\n      return;\n    }\n    this.bookingApi.getBookingsByUser(userId).subscribe({\n      next: res => this.bookings = res,\n      error: err => console.error(err)\n    });\n  }\n  makePayment(booking) {\n    this.router.navigate(['/user/payment'], {\n      state: {\n        bookingId: booking.bookingId,\n        amount: booking.batch.price\n      }\n    });\n  }\n  cancelBooking(booking) {\n    if (!booking || !booking.bookingId) {\n      console.error('Booking object is missing');\n      return;\n    }\n    const confirmed = confirm('Are you sure you want to cancel this booking?');\n    if (!confirmed) return;\n    this.bookingService.cancelBooking(booking.bookingId).subscribe({\n      next: () => {\n        booking.status = 'Cancelled'; // update UI\n      },\n\n      error: () => {\n        alert('Failed to cancel booking');\n      }\n    });\n  }\n  static {\n    this.ɵfac = function MyBookingsComponent_Factory(t) {\n      return new (t || MyBookingsComponent)(i0.ɵɵdirectiveInject(i1.BookingService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MyBookingsComponent,\n      selectors: [[\"app-my-bookings\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"container\", \"py-4\"], [1, \"page-title\", \"text-primary-custom\", \"mb-4\"], [\"class\", \"text-center text-muted mt-5\", 4, \"ngIf\"], [\"class\", \"row g-4\", 4, \"ngIf\"], [1, \"text-center\", \"text-muted\", \"mt-5\"], [1, \"bi\", \"bi-info-circle\", \"fs-2\"], [1, \"mt-2\"], [\"routerLink\", \"/user/book\", 1, \"btn\", \"btn-primary-custom\", \"mt-3\"], [1, \"row\", \"g-4\"], [\"class\", \"col-md-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\"], [1, \"card\", \"card-custom\", \"p-3\", \"shadow-sm\"], [1, \"fw-bold\"], [1, \"text-muted\", \"mb-1\"], [1, \"bi\", \"bi-person-badge\"], [1, \"bi\", \"bi-calendar-event\"], [1, \"mb-1\"], [1, \"bi\", \"bi-clock-history\"], [1, \"badge\", \"mt-2\", 3, \"ngClass\"], [\"class\", \"d-flex gap-2 mt-3\", 4, \"ngIf\"], [1, \"d-flex\", \"gap-2\", \"mt-3\"], [1, \"btn\", \"btn-primary-custom\", \"flex-fill\", 3, \"click\"], [1, \"btn\", \"btn-cancel-custom\", \"flex-fill\", 3, \"click\"]],\n      template: function MyBookingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"My Bookings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, MyBookingsComponent_div_3_Template, 6, 0, \"div\", 2);\n          i0.ɵɵtemplate(4, MyBookingsComponent_div_4_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.bookings.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.bookings.length > 0);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i2.RouterLink, i3.DatePipe],\n      styles: [\"\\n\\n.page-title[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  font-weight: 700;\\n  color: #7A4EAB; \\n\\n}\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #FDE2E4, #E6E0FF); \\n\\n  border-radius: 16px;\\n  border: none;\\n  padding: 20px;\\n  box-shadow: 0 6px 18px rgba(122, 78, 171, 0.15);\\n  transition: transform .3s ease, box-shadow .3s ease;\\n}\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-6px);\\n  box-shadow: 0 12px 28px rgba(122, 78, 171, 0.25);\\n}\\n\\n\\n\\nh5.fw-bold[_ngcontent-%COMP%] {\\n  color: #7A4EAB;\\n  margin-bottom: 10px;\\n}\\n\\n\\n\\n.text-muted[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .mb-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  color: #A57AD1;\\n}\\n\\n\\n\\n.badge[_ngcontent-%COMP%] {\\n  padding: 6px 12px;\\n  border-radius: 12px;\\n  font-size: 13px;\\n  font-weight: 600;\\n  display: inline-block;\\n}\\n\\n.bg-success[_ngcontent-%COMP%] {\\n  background-color: #B4F8C8 !important; \\n\\n  color: #0A6847 !important;\\n}\\n\\n.bg-warning[_ngcontent-%COMP%] {\\n  background-color: #FFF3B0 !important; \\n\\n  color: #7A4EAB !important;\\n}\\n\\n.bg-danger[_ngcontent-%COMP%] {\\n  background-color: #FFB3C1 !important; \\n\\n  color: #A4133C !important;\\n}\\n\\n\\n\\n.btn-primary-custom[_ngcontent-%COMP%] {\\n  background-color: #7A4EAB;\\n  border: none;\\n  border-radius: 12px;\\n  padding: 10px 14px;\\n  font-weight: 600;\\n  transition: background .25s ease;\\n}\\n\\n.btn-primary-custom[_ngcontent-%COMP%]:hover {\\n  background-color: #5e3791;\\n}\\n\\n\\n\\n.text-muted.mt-5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  color: #7A4EAB;\\n}\\n\\n\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n  from { opacity: 0; transform: translateY(10px); }\\n  to   { opacity: 1; transform: translateY(0); }\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_fadeIn .4s ease-in-out;\\n}\\n\\n\\n\\n.btn-primary-custom[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #9d4edd, #c77dff);\\n  border: none;\\n  color: #fff;\\n  font-weight: 600;\\n  border-radius: 12px;\\n  padding: 10px 0;\\n  transition: 0.25s ease;\\n}\\n\\n.btn-primary-custom[_ngcontent-%COMP%]:hover {\\n  background: linear-gradient(135deg, #7b2cbf, #9d4edd);\\n}\\n\\n\\n\\n.btn-cancel-custom[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #ffd6e8, #f7b7d2);\\n  border: none;\\n  color: #7b2cbf;\\n  font-weight: 600;\\n  border-radius: 12px;\\n  padding: 10px 0;\\n  transition: 0.25s ease;\\n}\\n\\n.btn-cancel-custom[_ngcontent-%COMP%]:hover {\\n  background: linear-gradient(135deg, #f7b7d2, #f3a0c5);\\n  color: #5a189a;\\n}\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9teS1ib29raW5ncy9teS1ib29raW5ncy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQjtBQUNsQjtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsY0FBYyxFQUFFLG9CQUFvQjtBQUN0Qzs7QUFFQSxvQkFBb0I7QUFDcEI7RUFDRSxxREFBcUQsRUFBRSxvQkFBb0I7RUFDM0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixhQUFhO0VBQ2IsK0NBQStDO0VBQy9DLG1EQUFtRDtBQUNyRDs7QUFFQSx1QkFBdUI7QUFDdkI7RUFDRSwyQkFBMkI7RUFDM0IsZ0RBQWdEO0FBQ2xEOztBQUVBLGtCQUFrQjtBQUNsQjtFQUNFLGNBQWM7RUFDZCxtQkFBbUI7QUFDckI7O0FBRUEseUJBQXlCO0FBQ3pCOztFQUVFLGNBQWM7QUFDaEI7O0FBRUEseUNBQXlDO0FBQ3pDO0VBQ0UsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLG9DQUFvQyxFQUFFLG9CQUFvQjtFQUMxRCx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxvQ0FBb0MsRUFBRSx1QkFBdUI7RUFDN0QseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usb0NBQW9DLEVBQUUsa0JBQWtCO0VBQ3hELHlCQUF5QjtBQUMzQjs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSxtQkFBbUI7QUFDbkI7RUFDRSxjQUFjO0FBQ2hCOztBQUVBLDRDQUE0QztBQUM1QztFQUNFLE9BQU8sVUFBVSxFQUFFLDJCQUEyQixFQUFFO0VBQ2hELE9BQU8sVUFBVSxFQUFFLHdCQUF3QixFQUFFO0FBQy9DOztBQUVBO0VBQ0UsaUNBQWlDO0FBQ25DOztBQUVBLG1FQUFtRTtBQUNuRTtFQUNFLHFEQUFxRDtFQUNyRCxZQUFZO0VBQ1osV0FBVztFQUNYLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHFEQUFxRDtBQUN2RDs7QUFFQSxrQkFBa0I7QUFDbEI7RUFDRSxxREFBcUQ7RUFDckQsWUFBWTtFQUNaLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxxREFBcUQ7RUFDckQsY0FBYztBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIMOwwp/CjMK4IFBhZ2UgVGl0bGUgKi9cclxuLnBhZ2UtdGl0bGUge1xyXG4gIGZvbnQtc2l6ZTogMjhweDtcclxuICBmb250LXdlaWdodDogNzAwO1xyXG4gIGNvbG9yOiAjN0E0RUFCOyAvKiBMYXZlbmRlciBQdXJwbGUgKi9cclxufVxyXG5cclxuLyogw7DCn8KMwrggQ2FyZCBTdHlsaW5nICovXHJcbi5jYXJkLWN1c3RvbSB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0ZERTJFNCwgI0U2RTBGRik7IC8qIFBpbmsgw6LChsKSIExhdmVuZGVyICovXHJcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMTIyLCA3OCwgMTcxLCAwLjE1KTtcclxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIGVhc2UsIGJveC1zaGFkb3cgLjNzIGVhc2U7XHJcbn1cclxuXHJcbi8qIMOwwp/CjMK4IEhvdmVyIEVsZXZhdGlvbiAqL1xyXG4uY2FyZC1jdXN0b206aG92ZXIge1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNnB4KTtcclxuICBib3gtc2hhZG93OiAwIDEycHggMjhweCByZ2JhKDEyMiwgNzgsIDE3MSwgMC4yNSk7XHJcbn1cclxuXHJcbi8qIMOwwp/CjMK4IENhcmQgVGl0bGUgKi9cclxuaDUuZnctYm9sZCB7XHJcbiAgY29sb3I6ICM3QTRFQUI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLyogw7DCn8KMwrggSWNvbnMgaW5zaWRlIHRleHQgKi9cclxuLnRleHQtbXV0ZWQgaSxcclxuLm1iLTEgaSB7XHJcbiAgY29sb3I6ICNBNTdBRDE7XHJcbn1cclxuXHJcbi8qIMOwwp/CjMK4IFN0YXR1cyBCYWRnZXMgLSBTb2Z0IEJlYXV0eSBUaGVtZSAqL1xyXG4uYmFkZ2Uge1xyXG4gIHBhZGRpbmc6IDZweCAxMnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgZm9udC1zaXplOiAxM3B4O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcblxyXG4uYmctc3VjY2VzcyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI0I0RjhDOCAhaW1wb3J0YW50OyAvKiBTb2Z0IG1pbnQgZ3JlZW4gKi9cclxuICBjb2xvcjogIzBBNjg0NyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYmctd2FybmluZyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjNCMCAhaW1wb3J0YW50OyAvKiBTb2Z0IHBhc3RlbCB5ZWxsb3cgKi9cclxuICBjb2xvcjogIzdBNEVBQiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYmctZGFuZ2VyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZCM0MxICFpbXBvcnRhbnQ7IC8qIFNvZnQgcm9zZSByZWQgKi9cclxuICBjb2xvcjogI0E0MTMzQyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4vKiDDsMKfwozCuCBQcmltYXJ5IEJ1dHRvbiAqL1xyXG4uYnRuLXByaW1hcnktY3VzdG9tIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN0E0RUFCO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gIHBhZGRpbmc6IDEwcHggMTRweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgLjI1cyBlYXNlO1xyXG59XHJcblxyXG4uYnRuLXByaW1hcnktY3VzdG9tOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWUzNzkxO1xyXG59XHJcblxyXG4vKiDDsMKfwozCuCBFbXB0eSBTdGF0ZSAqL1xyXG4udGV4dC1tdXRlZC5tdC01IGkge1xyXG4gIGNvbG9yOiAjN0E0RUFCO1xyXG59XHJcblxyXG4vKiDDsMKfwozCuCBGYWRlIEluIEFuaW1hdGlvbiAoc21vb3RoIHBhZ2UgbG9hZCkgKi9cclxuQGtleWZyYW1lcyBmYWRlSW4ge1xyXG4gIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTBweCk7IH1cclxuICB0byAgIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XHJcbn1cclxuXHJcbi5jb250YWluZXIge1xyXG4gIGFuaW1hdGlvbjogZmFkZUluIC40cyBlYXNlLWluLW91dDtcclxufVxyXG5cclxuLyogUHJpbWFyeSBQYXkgQnV0dG9uIChhbHJlYWR5IGV4aXN0cywganVzdCBlbnN1cmluZyBjb25zaXN0ZW5jeSkgKi9cclxuLmJ0bi1wcmltYXJ5LWN1c3RvbSB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzlkNGVkZCwgI2M3N2RmZik7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBwYWRkaW5nOiAxMHB4IDA7XHJcbiAgdHJhbnNpdGlvbjogMC4yNXMgZWFzZTtcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5LWN1c3RvbTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzdiMmNiZiwgIzlkNGVkZCk7XHJcbn1cclxuXHJcbi8qIENhbmNlbCBCdXR0b24gKi9cclxuLmJ0bi1jYW5jZWwtY3VzdG9tIHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZmZkNmU4LCAjZjdiN2QyKTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgY29sb3I6ICM3YjJjYmY7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gIHBhZGRpbmc6IDEwcHggMDtcclxuICB0cmFuc2l0aW9uOiAwLjI1cyBlYXNlO1xyXG59XHJcblxyXG4uYnRuLWNhbmNlbC1jdXN0b206aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmN2I3ZDIsICNmM2EwYzUpO1xyXG4gIGNvbG9yOiAjNWExODlhO1xyXG59XHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","MyBookingsComponent_div_4_div_1_div_17_Template_button_click_1_listener","ɵɵrestoreView","_r7","booking_r3","ɵɵnextContext","$implicit","ctx_r5","ɵɵresetView","makePayment","MyBookingsComponent_div_4_div_1_div_17_Template_button_click_3_listener","ctx_r8","cancelBooking","ɵɵtemplate","MyBookingsComponent_div_4_div_1_div_17_Template","ɵɵadvance","ɵɵtextInterpolate","batch","batchName","ɵɵtextInterpolate1","instructor","name","ɵɵpipeBind1","startDate","bookingDate","ɵɵproperty","ɵɵpureFunction3","_c0","status","MyBookingsComponent_div_4_div_1_Template","ctx_r1","bookings","MyBookingsComponent","constructor","bookingApi","router","ngOnInit","loadBookings","userId","localStorage","getItem","alert","navigate","getBookingsByUser","subscribe","next","res","error","err","console","booking","state","bookingId","amount","price","confirmed","confirm","bookingService","ɵɵdirectiveInject","i1","BookingService","i2","Router","selectors","decls","vars","consts","template","MyBookingsComponent_Template","rf","ctx","MyBookingsComponent_div_3_Template","MyBookingsComponent_div_4_Template","length"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\user\\my-bookings\\my-bookings.component.ts","C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\user\\my-bookings\\my-bookings.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { BookingService } from '../../services/booking.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-my-bookings',\n  templateUrl: './my-bookings.component.html',\n  styleUrls: ['./my-bookings.component.css']\n})\nexport class MyBookingsComponent implements OnInit {\n\n  bookings: any[] = [];\n  bookingService: any;\n\n  constructor(\n    private bookingApi: BookingService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadBookings();\n  }\n\n  loadBookings() {\n    const userId = localStorage.getItem(\"userId\");\n\n    if (!userId) {\n      alert(\"Please login again.\");\n      this.router.navigate(['/login']);\n      return;\n    }\n\n    this.bookingApi.getBookingsByUser(userId).subscribe({\n      next: (res: any) => this.bookings = res,\n      error: (err) => console.error(err)\n    });\n  }\n\n  makePayment(booking: any) {\n    this.router.navigate(['/user/payment'], {\n      state: {\n        bookingId: booking.bookingId,\n        amount: booking.batch.price\n      }\n    });\n  }\n\n  cancelBooking(booking: any): void {\n  if (!booking || !booking.bookingId) {\n    console.error('Booking object is missing');\n    return;\n  }\n\n  const confirmed = confirm('Are you sure you want to cancel this booking?');\n\n  if (!confirmed) return;\n\n  this.bookingService.cancelBooking(booking.bookingId).subscribe({\n    next: () => {\n      booking.status = 'Cancelled'; // update UI\n    },\n    error: () => {\n      alert('Failed to cancel booking');\n    }\n  });\n}\n\n\n\n\n}\n","<div class=\"container py-4\">\n  <h2 class=\"page-title text-primary-custom mb-4\">My Bookings</h2>\n\n  <!-- No bookings message -->\n  <div *ngIf=\"bookings.length === 0\" class=\"text-center text-muted mt-5\">\n    <i class=\"bi bi-info-circle fs-2\"></i>\n    <p class=\"mt-2\">You have not booked any batches yet.</p>\n    <button class=\"btn btn-primary-custom mt-3\" routerLink=\"/user/book\">\n      Book a Batch\n    </button>\n  </div>\n\n  <!-- Bookings list -->\n  <div class=\"row g-4\" *ngIf=\"bookings.length > 0\">\n    <div class=\"col-md-4\" *ngFor=\"let booking of bookings\">\n      <div class=\"card card-custom p-3 shadow-sm\">\n        <h5 class=\"fw-bold\">{{ booking.batch?.batchName }}</h5>\n\n        <p class=\"text-muted mb-1\">\n          <i class=\"bi bi-person-badge\"></i>\n          Instructor: {{ booking.batch?.instructor?.name }}\n        </p>\n\n        <p class=\"text-muted mb-1\">\n          <i class=\"bi bi-calendar-event\"></i>\n          Start Date: {{ booking.batch?.startDate | date }}\n        </p>\n\n        <p class=\"mb-1\">\n          <i class=\"bi bi-clock-history\"></i>\n          Booked on: {{ booking.bookingDate | date }}\n        </p>\n\n        <!-- Status Badge -->\n        <span\n          class=\"badge mt-2\"\n          [ngClass]=\"{\n            'bg-success': booking.status === 'Confirmed',\n            'bg-warning text-dark': booking.status === 'Pending',\n            'bg-danger': booking.status === 'Cancelled'\n          }\"\n        >\n          {{ booking.status }}\n        </span>\n\n        <!-- Payment Button -->\n        <!-- Action Buttons -->\n        <div *ngIf=\"booking.status === 'Pending'\" class=\"d-flex gap-2 mt-3\">\n          <button\n            class=\"btn btn-primary-custom flex-fill\"\n            (click)=\"makePayment(booking)\"\n          >\n            Pay Now\n          </button>\n\n          <button\n            class=\"btn btn-cancel-custom flex-fill\"\n            (click)=\"cancelBooking(booking)\"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}