{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/bookings/booking-user.service\";\nexport class UserDashboardComponent {\n  constructor(bookingApi) {\n    this.bookingApi = bookingApi;\n    this.totalBookings = 0;\n    this.upcomingCount = 0;\n    this.completedCount = 0;\n    this.upcomingBooking = null;\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.loadDashboard();\n  }\n  loadDashboard() {\n    const userId = localStorage.getItem('userId');\n    if (!userId) {\n      console.error('UserId not found');\n      this.loading = false;\n      return;\n    }\n    this.bookingApi.getBookingsByUser(userId).subscribe({\n      next: res => {\n        this.totalBookings = res.length;\n        this.upcomingBooking = res.find(b => b.status === 'Confirmed');\n        this.upcomingCount = res.filter(b => b.status === 'Confirmed').length;\n        this.completedCount = res.filter(b => b.status === 'Completed').length;\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Dashboard load error', err);\n        this.loading = false;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function UserDashboardComponent_Factory(t) {\n      return new (t || UserDashboardComponent)(i0.ɵɵdirectiveInject(i1.BookingUserService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserDashboardComponent,\n      selectors: [[\"app-user-dashboard\"]],\n      decls: 0,\n      vars: 0,\n      template: function UserDashboardComponent_Template(rf, ctx) {},\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["UserDashboardComponent","constructor","bookingApi","totalBookings","upcomingCount","completedCount","upcomingBooking","loading","ngOnInit","loadDashboard","userId","localStorage","getItem","console","error","getBookingsByUser","subscribe","next","res","length","find","b","status","filter","err","i0","ɵɵdirectiveInject","i1","BookingUserService","selectors","decls","vars","template","UserDashboardComponent_Template","rf","ctx","styles"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\modules\\user\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { BookingUserService } from 'src/app/services/bookings/booking-user.service';\r\n\r\n@Component({\r\n  selector: 'app-user-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class UserDashboardComponent implements OnInit {\r\n\r\n  totalBookings = 0;\r\n  upcomingCount = 0;\r\n  completedCount = 0;\r\n  upcomingBooking: any = null;\r\n  loading = true;\r\n\r\n  constructor(private bookingApi: BookingUserService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadDashboard();\r\n  }\r\n\r\n  loadDashboard(): void {\r\n    const userId = localStorage.getItem('userId');\r\n\r\n    if (!userId) {\r\n      console.error('UserId not found');\r\n      this.loading = false;\r\n      return;\r\n    }\r\n\r\n    this.bookingApi.getBookingsByUser(userId).subscribe({\r\n      next: (res) => {\r\n        this.totalBookings = res.length;\r\n        this.upcomingBooking = res.find(b => b.status === 'Confirmed');\r\n        this.upcomingCount = res.filter(b => b.status === 'Confirmed').length;\r\n        this.completedCount = res.filter(b => b.status === 'Completed').length;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        console.error('Dashboard load error', err);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"mappings":";;AAQA,OAAM,MAAOA,sBAAsB;EAQjCC,YAAoBC,UAA8B;IAA9B,KAAAA,UAAU,GAAVA,UAAU;IAN9B,KAAAC,aAAa,GAAG,CAAC;IACjB,KAAAC,aAAa,GAAG,CAAC;IACjB,KAAAC,cAAc,GAAG,CAAC;IAClB,KAAAC,eAAe,GAAQ,IAAI;IAC3B,KAAAC,OAAO,GAAG,IAAI;EAEuC;EAErDC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAaA,CAAA;IACX,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAE7C,IAAI,CAACF,MAAM,EAAE;MACXG,OAAO,CAACC,KAAK,CAAC,kBAAkB,CAAC;MACjC,IAAI,CAACP,OAAO,GAAG,KAAK;MACpB;;IAGF,IAAI,CAACL,UAAU,CAACa,iBAAiB,CAACL,MAAM,CAAC,CAACM,SAAS,CAAC;MAClDC,IAAI,EAAGC,GAAG,IAAI;QACZ,IAAI,CAACf,aAAa,GAAGe,GAAG,CAACC,MAAM;QAC/B,IAAI,CAACb,eAAe,GAAGY,GAAG,CAACE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAK,WAAW,CAAC;QAC9D,IAAI,CAAClB,aAAa,GAAGc,GAAG,CAACK,MAAM,CAACF,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAK,WAAW,CAAC,CAACH,MAAM;QACrE,IAAI,CAACd,cAAc,GAAGa,GAAG,CAACK,MAAM,CAACF,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAK,WAAW,CAAC,CAACH,MAAM;QACtE,IAAI,CAACZ,OAAO,GAAG,KAAK;MACtB,CAAC;MACDO,KAAK,EAAGU,GAAG,IAAI;QACbX,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEU,GAAG,CAAC;QAC1C,IAAI,CAACjB,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;;;uBApCWP,sBAAsB,EAAAyB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,kBAAA;IAAA;EAAA;;;YAAtB5B,sBAAsB;MAAA6B,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;MAAAC,MAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}