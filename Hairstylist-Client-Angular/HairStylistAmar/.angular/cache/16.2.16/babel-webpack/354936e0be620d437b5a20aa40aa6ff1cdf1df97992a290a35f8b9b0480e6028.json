{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/bookings/booking-user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction UserBookingsComponent_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 4);\n    i0.ɵɵtext(1, \"Loading bookings...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserBookingsComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 4);\n    i0.ɵɵtext(1, \" You have not booked any batches yet. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserBookingsComponent_div_5_div_1_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function UserBookingsComponent_div_5_div_1_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const b_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.goToPayment(b_r4.bookingId));\n    });\n    i0.ɵɵtext(1, \" Pay Now \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserBookingsComponent_div_5_div_1_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function UserBookingsComponent_div_5_div_1_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const b_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.cancelBooking(b_r4.bookingId));\n    });\n    i0.ɵɵtext(1, \" Cancel \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-success\": a0,\n    \"bg-warning text-dark\": a1,\n    \"bg-danger\": a2\n  };\n};\nfunction UserBookingsComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"h5\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 11);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 12);\n    i0.ɵɵtemplate(14, UserBookingsComponent_div_5_div_1_button_14_Template, 2, 0, \"button\", 13);\n    i0.ɵɵtemplate(15, UserBookingsComponent_div_5_div_1_button_15_Template, 2, 0, \"button\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const b_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(b_r4.batch.batchName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Instructor: \", b_r4.batch.instructor.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Start Date: \", i0.ɵɵpipeBind1(8, 8, b_r4.batch.startDate), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\u20B9 \", b_r4.batch.price, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(10, _c0, b_r4.status === \"Booked\" || b_r4.status === \"Confirmed\", b_r4.status === \"Pending\", b_r4.status === \"Cancelled\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", b_r4.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", b_r4.status === \"Pending\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", b_r4.status === \"Pending\");\n  }\n}\nfunction UserBookingsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, UserBookingsComponent_div_5_div_1_Template, 16, 14, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.bookings);\n  }\n}\nexport class UserBookingsComponent {\n  constructor(bookingApi, router) {\n    this.bookingApi = bookingApi;\n    this.router = router;\n    this.bookings = [];\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.loadMyBookings();\n  }\n  loadMyBookings() {\n    const userId = localStorage.getItem('userId');\n    if (!userId) {\n      console.error('UserId not found');\n      this.loading = false;\n      return;\n    }\n    this.bookingApi.getBookingsByUser(userId).subscribe({\n      next: res => {\n        this.bookings = res;\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Failed to load bookings', err);\n        this.loading = false;\n      }\n    });\n  }\n  cancelBooking(bookingId) {\n    if (!confirm('Are you sure you want to cancel this booking?')) {\n      return;\n    }\n    this.bookingApi.cancelBooking(bookingId).subscribe({\n      next: () => this.loadMyBookings(),\n      error: err => console.error('Cancel booking error', err)\n    });\n  }\n  goToPayment(bookingId) {\n    this.router.navigate(['/user/payment', bookingId]);\n  }\n  static {\n    this.ɵfac = function UserBookingsComponent_Factory(t) {\n      return new (t || UserBookingsComponent)(i0.ɵɵdirectiveInject(i1.BookingUserService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserBookingsComponent,\n      selectors: [[\"app-user-bookings\"]],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"page-container\"], [1, \"page-title\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [\"class\", \"row g-4\", 4, \"ngIf\"], [1, \"text-muted\"], [1, \"row\", \"g-4\"], [\"class\", \"col-md-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\"], [1, \"card\", \"card-custom\", \"shadow-sm\"], [1, \"fw-bold\"], [1, \"text-muted\", \"mb-1\"], [1, \"badge\", 3, \"ngClass\"], [1, \"mt-3\", \"d-flex\", \"gap-2\"], [\"class\", \"btn btn-sm btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-sm btn-outline-danger\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"]],\n      template: function UserBookingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"My Bookings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, UserBookingsComponent_p_3_Template, 2, 0, \"p\", 2);\n          i0.ɵɵtemplate(4, UserBookingsComponent_p_4_Template, 2, 0, \"p\", 2);\n          i0.ɵɵtemplate(5, UserBookingsComponent_div_5_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.bookings.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.bookings.length > 0);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe],\n      styles: [\"\\n\\n\\n\\n.page-container[_ngcontent-%COMP%] {\\n  max-width: 1200px;\\n  margin: auto;\\n  padding: 30px 20px 60px;\\n}\\n\\n.page-title[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  font-weight: 700;\\n  color: #2a1f45;\\n  margin-bottom: 25px;\\n}\\n\\n\\n\\n\\n\\n.text-muted[_ngcontent-%COMP%] {\\n  color: #7a7199;\\n  font-size: 15px;\\n  margin-top: 10px;\\n}\\n\\n\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%] {\\n  border-radius: 16px;\\n  border: none;\\n  padding: 20px;\\n  background: #ffffff;\\n  box-shadow: 0 12px 30px rgba(80, 40, 140, 0.12);\\n  transition: all 0.25s ease;\\n  height: 100%;\\n}\\n\\n.card-custom[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-4px);\\n  box-shadow: 0 18px 40px rgba(80, 40, 140, 0.18);\\n}\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 700;\\n  color: #2a1f45;\\n  margin-bottom: 10px;\\n}\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  margin-bottom: 6px;\\n}\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%]   .fw-bold[_ngcontent-%COMP%] {\\n  font-size: 17px;\\n  color: #6f3cff;\\n  margin-top: 6px;\\n}\\n\\n\\n\\n\\n\\n.badge[_ngcontent-%COMP%] {\\n  padding: 6px 14px;\\n  font-size: 12px;\\n  border-radius: 20px;\\n  font-weight: 600;\\n  letter-spacing: 0.3px;\\n}\\n\\n.bg-success[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #22c55e, #16a34a);\\n}\\n\\n.bg-warning[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #facc15, #f59e0b);\\n}\\n\\n.bg-danger[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #ef4444, #dc2626);\\n}\\n\\n\\n\\n\\n\\n.btn[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  font-size: 13px;\\n  padding: 6px 14px;\\n  transition: all 0.2s ease;\\n}\\n\\n\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #7b5cff, #b38cff);\\n  border: none;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 8px 20px rgba(123, 92, 255, 0.45);\\n  transform: translateY(-1px);\\n}\\n\\n\\n\\n.btn-outline-danger[_ngcontent-%COMP%] {\\n  border: 1.5px solid #ef4444;\\n  color: #ef4444;\\n}\\n\\n.btn-outline-danger[_ngcontent-%COMP%]:hover {\\n  background: #ef4444;\\n  color: #fff;\\n}\\n\\n\\n\\n\\n\\n@media (max-width: 768px) {\\n  .page-title[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n  }\\n\\n  .card-custom[_ngcontent-%COMP%] {\\n    padding: 16px;\\n  }\\n\\n  .btn[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n\\n  .d-flex[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy91c2VyL3VzZXItYm9va2luZ3MvdXNlci1ib29raW5ncy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztrQ0FFa0M7QUFDbEM7RUFDRSxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLG1CQUFtQjtBQUNyQjs7QUFFQTs7a0NBRWtDO0FBQ2xDO0VBQ0UsY0FBYztFQUNkLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7O2tDQUVrQztBQUNsQztFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiwrQ0FBK0M7RUFDL0MsMEJBQTBCO0VBQzFCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLDJCQUEyQjtFQUMzQiwrQ0FBK0M7QUFDakQ7O0FBRUEsVUFBVTtBQUNWO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsbUJBQW1CO0FBQ3JCOztBQUVBLGNBQWM7QUFDZDtFQUNFLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7O0FBRUEsVUFBVTtBQUNWO0VBQ0UsZUFBZTtFQUNmLGNBQWM7RUFDZCxlQUFlO0FBQ2pCOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSxpQkFBaUI7RUFDakIsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UscURBQXFEO0FBQ3ZEOztBQUVBO0VBQ0UscURBQXFEO0FBQ3ZEOztBQUVBO0VBQ0UscURBQXFEO0FBQ3ZEOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSxtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQix5QkFBeUI7QUFDM0I7O0FBRUEsWUFBWTtBQUNaO0VBQ0UscURBQXFEO0VBQ3JELFlBQVk7QUFDZDs7QUFFQTtFQUNFLCtDQUErQztFQUMvQywyQkFBMkI7QUFDN0I7O0FBRUEsV0FBVztBQUNYO0VBQ0UsMkJBQTJCO0VBQzNCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsV0FBVztBQUNiOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRTtJQUNFLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxhQUFhO0VBQ2Y7O0VBRUE7SUFDRSxXQUFXO0VBQ2I7O0VBRUE7SUFDRSxzQkFBc0I7RUFDeEI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgUEFHRSBMQVlPVVRcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuLnBhZ2UtY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDEyMDBweDtcclxuICBtYXJnaW46IGF1dG87XHJcbiAgcGFkZGluZzogMzBweCAyMHB4IDYwcHg7XHJcbn1cclxuXHJcbi5wYWdlLXRpdGxlIHtcclxuICBmb250LXNpemU6IDI4cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICBjb2xvcjogIzJhMWY0NTtcclxuICBtYXJnaW4tYm90dG9tOiAyNXB4O1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEVNUFRZICYgTE9BRElORyBTVEFURVNcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuLnRleHQtbXV0ZWQge1xyXG4gIGNvbG9yOiAjN2E3MTk5O1xyXG4gIGZvbnQtc2l6ZTogMTVweDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEJPT0tJTkcgQ0FSRFxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG4uY2FyZC1jdXN0b20ge1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcclxuICBib3gtc2hhZG93OiAwIDEycHggMzBweCByZ2JhKDgwLCA0MCwgMTQwLCAwLjEyKTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4yNXMgZWFzZTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5jYXJkLWN1c3RvbTpob3ZlciB7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00cHgpO1xyXG4gIGJveC1zaGFkb3c6IDAgMThweCA0MHB4IHJnYmEoODAsIDQwLCAxNDAsIDAuMTgpO1xyXG59XHJcblxyXG4vKiBUaXRsZSAqL1xyXG4uY2FyZC1jdXN0b20gaDUge1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxuICBmb250LXdlaWdodDogNzAwO1xyXG4gIGNvbG9yOiAjMmExZjQ1O1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcbi8qIFRleHQgcm93cyAqL1xyXG4uY2FyZC1jdXN0b20gcCB7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDZweDtcclxufVxyXG5cclxuLyogUHJpY2UgKi9cclxuLmNhcmQtY3VzdG9tIC5mdy1ib2xkIHtcclxuICBmb250LXNpemU6IDE3cHg7XHJcbiAgY29sb3I6ICM2ZjNjZmY7XHJcbiAgbWFyZ2luLXRvcDogNnB4O1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFNUQVRVUyBCQURHRVNcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuLmJhZGdlIHtcclxuICBwYWRkaW5nOiA2cHggMTRweDtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGxldHRlci1zcGFjaW5nOiAwLjNweDtcclxufVxyXG5cclxuLmJnLXN1Y2Nlc3Mge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMyMmM1NWUsICMxNmEzNGEpO1xyXG59XHJcblxyXG4uYmctd2FybmluZyB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZhY2MxNSwgI2Y1OWUwYik7XHJcbn1cclxuXHJcbi5iZy1kYW5nZXIge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNlZjQ0NDQsICNkYzI2MjYpO1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEFDVElPTiBCVVRUT05TXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5idG4ge1xyXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgZm9udC1zaXplOiAxM3B4O1xyXG4gIHBhZGRpbmc6IDZweCAxNHB4O1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XHJcbn1cclxuXHJcbi8qIFBheSBOb3cgKi9cclxuLmJ0bi1wcmltYXJ5IHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjN2I1Y2ZmLCAjYjM4Y2ZmKTtcclxuICBib3JkZXI6IG5vbmU7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeTpob3ZlciB7XHJcbiAgYm94LXNoYWRvdzogMCA4cHggMjBweCByZ2JhKDEyMywgOTIsIDI1NSwgMC40NSk7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xyXG59XHJcblxyXG4vKiBDYW5jZWwgKi9cclxuLmJ0bi1vdXRsaW5lLWRhbmdlciB7XHJcbiAgYm9yZGVyOiAxLjVweCBzb2xpZCAjZWY0NDQ0O1xyXG4gIGNvbG9yOiAjZWY0NDQ0O1xyXG59XHJcblxyXG4uYnRuLW91dGxpbmUtZGFuZ2VyOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kOiAjZWY0NDQ0O1xyXG4gIGNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFJFU1BPTlNJVkVcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgLnBhZ2UtdGl0bGUge1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gIH1cclxuXHJcbiAgLmNhcmQtY3VzdG9tIHtcclxuICAgIHBhZGRpbmc6IDE2cHg7XHJcbiAgfVxyXG5cclxuICAuYnRuIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuXHJcbiAgLmQtZmxleCB7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","UserBookingsComponent_div_5_div_1_button_14_Template_button_click_0_listener","ɵɵrestoreView","_r9","b_r4","ɵɵnextContext","$implicit","ctx_r7","ɵɵresetView","goToPayment","bookingId","UserBookingsComponent_div_5_div_1_button_15_Template_button_click_0_listener","_r12","ctx_r10","cancelBooking","ɵɵtemplate","UserBookingsComponent_div_5_div_1_button_14_Template","UserBookingsComponent_div_5_div_1_button_15_Template","ɵɵadvance","ɵɵtextInterpolate","batch","batchName","ɵɵtextInterpolate1","instructor","name","ɵɵpipeBind1","startDate","price","ɵɵproperty","ɵɵpureFunction3","_c0","status","UserBookingsComponent_div_5_div_1_Template","ctx_r2","bookings","UserBookingsComponent","constructor","bookingApi","router","loading","ngOnInit","loadMyBookings","userId","localStorage","getItem","console","error","getBookingsByUser","subscribe","next","res","err","confirm","navigate","ɵɵdirectiveInject","i1","BookingUserService","i2","Router","selectors","decls","vars","consts","template","UserBookingsComponent_Template","rf","ctx","UserBookingsComponent_p_3_Template","UserBookingsComponent_p_4_Template","UserBookingsComponent_div_5_Template","length"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\modules\\user\\user-bookings\\user-bookings.component.ts","C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\modules\\user\\user-bookings\\user-bookings.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { BookingUserService } from 'src/app/services/bookings/booking-user.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-user-bookings',\n  templateUrl: './user-bookings.component.html',\n  styleUrls: ['./user-bookings.component.css']\n})\nexport class UserBookingsComponent implements OnInit {\n\n  bookings: any[] = [];\n  loading = true;\n\n  constructor(\n    private bookingApi: BookingUserService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadMyBookings();\n  }\n\n  loadMyBookings(): void {\n    const userId = localStorage.getItem('userId');\n\n    if (!userId) {\n      console.error('UserId not found');\n      this.loading = false;\n      return;\n    }\n\n    this.bookingApi.getBookingsByUser(userId).subscribe({\n      next: (res) => {\n        this.bookings = res;\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Failed to load bookings', err);\n        this.loading = false;\n      }\n    });\n  }\n\n  cancelBooking(bookingId: string): void {\n    if (!confirm('Are you sure you want to cancel this booking?')) {\n      return;\n    }\n\n    this.bookingApi.cancelBooking(bookingId).subscribe({\n      next: () => this.loadMyBookings(),\n      error: (err) => console.error('Cancel booking error', err)\n    });\n  }\n\n  goToPayment(bookingId: string): void {\n    this.router.navigate(['/user/payment', bookingId]);\n  }\n}\n","<div class=\"page-container\">\n  <h2 class=\"page-title\">My Bookings</h2>\n\n  <!-- Loading -->\n  <p *ngIf=\"loading\" class=\"text-muted\">Loading bookings...</p>\n\n  <!-- No bookings -->\n  <p *ngIf=\"!loading && bookings.length === 0\" class=\"text-muted\">\n    You have not booked any batches yet.\n  </p>\n\n  <!-- Bookings Grid -->\n  <div class=\"row g-4\" *ngIf=\"!loading && bookings.length > 0\">\n    <div class=\"col-md-4\" *ngFor=\"let b of bookings\">\n      <div class=\"card card-custom shadow-sm\">\n        <h5 class=\"fw-bold\">{{ b.batch.batchName }}</h5>\n\n        <p class=\"text-muted mb-1\">Instructor: {{ b.batch.instructor.name }}</p>\n\n        <p class=\"text-muted mb-1\">\n          Start Date: {{ b.batch.startDate | date }}\n        </p>\n\n        <p class=\"fw-bold\">₹ {{ b.batch.price }}</p>\n\n        <!-- Status -->\n        <span\n          class=\"badge\"\n          [ngClass]=\"{\n            'bg-success': b.status === 'Booked' || b.status === 'Confirmed',\n            'bg-warning text-dark': b.status === 'Pending',\n            'bg-danger': b.status === 'Cancelled'\n          }\"\n        >\n          {{ b.status }}\n        </span>\n\n        <div class=\"mt-3 d-flex gap-2\">\n          <!-- Pay button -->\n          <button\n            *ngIf=\"b.status === 'Pending'\"\n            class=\"btn btn-sm btn-primary\"\n            (click)=\"goToPayment(b.bookingId)\"\n          >\n            Pay Now\n          </button>\n\n          <!-- Cancel button -->\n          <button\n            *ngIf=\"b.status === 'Pending'\"\n            class=\"btn btn-sm btn-outline-danger\"\n            (click)=\"cancelBooking(b.bookingId)\"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}