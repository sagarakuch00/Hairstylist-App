{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/booking.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ViewBookingsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"i\", 5);\n    i0.ɵɵelementStart(2, \"p\", 6);\n    i0.ɵɵtext(3, \"No students have booked your batches yet.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-success\": a0,\n    \"bg-warning text-dark\": a1,\n    \"bg-danger\": a2\n  };\n};\nfunction ViewBookingsComponent_div_4_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 16);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.studentName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.mobileNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 5, item_r5.bookingDate));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(7, _c0, item_r5.status === \"Confirmed\", item_r5.status === \"Pending\", item_r5.status === \"Cancelled\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.status === \"Confirmed\" ? \"Booked\" : item_r5.status, \" \");\n  }\n}\nfunction ViewBookingsComponent_div_4_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 17);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.student.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.student.mobile);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 5, item_r6.bookingDate));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(7, _c0, item_r6.status === \"Confirmed\", item_r6.status === \"Pending\", item_r6.status === \"Cancelled\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r6.status, \" \");\n  }\n}\nfunction ViewBookingsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"h4\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 10);\n    i0.ɵɵelement(5, \"i\", 11);\n    i0.ɵɵtext(6, \" Service: \");\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"p\", 12);\n    i0.ɵɵelement(10, \"i\", 13);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"table\", 14)(14, \"thead\");\n    i0.ɵɵtemplate(15, ViewBookingsComponent_div_4_tr_15_Template, 11, 11, \"tr\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, ViewBookingsComponent_div_4_tr_17_Template, 11, 11, \"tr\", 15);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const batch_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", batch_r2.batchName, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(batch_r2.serviceName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Starts on: \", i0.ɵɵpipeBind1(12, 5, batch_r2.startDate), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", batch_r2.bookings);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", batch_r2.bookings);\n  }\n}\nexport class ViewBookingsComponent {\n  constructor(bookingApi, router) {\n    this.bookingApi = bookingApi;\n    this.router = router;\n    this.groupedBookings = [];\n  }\n  ngOnInit() {\n    this.loadInstructorBookings();\n  }\n  loadInstructorBookings() {\n    const instructorId = localStorage.getItem('instructorId');\n    if (!instructorId) {\n      alert('Instructor not logged in');\n      this.router.navigate(['/login']);\n      return;\n    }\n    this.bookingApi.getBookingsByInstructor(instructorId).subscribe({\n      next: res => {\n        const grouped = {};\n        res.forEach(booking => {\n          const batchId = booking.batch.batchId;\n          if (!grouped[batchId]) {\n            grouped[batchId] = {\n              batchName: booking.batch.batchName,\n              serviceName: booking.batch.serviceName,\n              startDate: booking.batch.startDate,\n              bookings: []\n            };\n          }\n          grouped[batchId].bookings.push({\n            studentName: booking.student.fullName,\n            mobileNumber: booking.mobileNumber,\n            bookingDate: booking.bookingDate,\n            status: booking.status\n          });\n        });\n        this.groupedBookings = Object.values(grouped);\n      },\n      error: err => {\n        console.error(err);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ViewBookingsComponent_Factory(t) {\n      return new (t || ViewBookingsComponent)(i0.ɵɵdirectiveInject(i1.BookingService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewBookingsComponent,\n      selectors: [[\"app-view-bookings\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"container\", \"py-4\"], [1, \"page-title\", \"text-primary-custom\", \"mb-4\"], [\"class\", \"text-center text-muted mt-5\", 4, \"ngIf\"], [\"class\", \"mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\", \"text-muted\", \"mt-5\"], [1, \"bi\", \"bi-info-circle\", \"fs-2\"], [1, \"mt-2\"], [1, \"mb-4\"], [1, \"card\", \"card-custom\", \"p-4\", \"shadow-sm\"], [1, \"fw-bold\", \"text-primary-custom\"], [1, \"text-muted\", \"mb-1\"], [1, \"bi\", \"bi-book\"], [1, \"text-muted\", \"mb-3\"], [1, \"bi\", \"bi-calendar-event\"], [1, \"table\", \"table-striped\", \"align-middle\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", 3, \"ngClass\"], [1, \"badge\", \"px-3\", \"py-2\", 3, \"ngClass\"]],\n      template: function ViewBookingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Student Bookings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ViewBookingsComponent_div_3_Template, 4, 0, \"div\", 2);\n          i0.ɵɵtemplate(4, ViewBookingsComponent_div_4_Template, 18, 7, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.groupedBookings.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.groupedBookings);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe],\n      styles: [\"\\n\\n\\n\\n.page-title[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  font-weight: 700;\\n  color: #6f2cf4; \\n\\n}\\n\\n\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%] {\\n  border-radius: 18px;\\n  background: linear-gradient(\\n    135deg,\\n    #f8f1ff 0%,\\n    #f3e8ff 50%,\\n    #f0e9ff 100%\\n  );\\n  border: none;\\n}\\n\\n\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  color: #6f2cf4;\\n  margin-bottom: 6px;\\n}\\n\\n.card-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  color: #6b7280;\\n}\\n\\n\\n\\n\\n\\n.table[_ngcontent-%COMP%] {\\n  margin-top: 16px;\\n  background: #ffffff;\\n  border-radius: 12px;\\n  overflow: hidden;\\n}\\n\\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\n  background-color: #f3e8ff;\\n}\\n\\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  color: #5b21b6;\\n  font-weight: 600;\\n  font-size: 14px;\\n  border-bottom: none;\\n}\\n\\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  vertical-align: middle;\\n}\\n\\n.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd) {\\n  background-color: #faf7ff;\\n}\\n\\n\\n\\n\\n\\n.badge[_ngcontent-%COMP%] {\\n  padding: 6px 14px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  border-radius: 999px;\\n}\\n\\n\\n\\n.bg-warning[_ngcontent-%COMP%] {\\n  background-color: #fff4c2 !important;\\n  color: #92400e !important;\\n}\\n\\n\\n\\n.bg-success[_ngcontent-%COMP%] {\\n  background-color: #d1fae5 !important;\\n  color: #065f46 !important;\\n}\\n\\n\\n\\n.bg-danger[_ngcontent-%COMP%] {\\n  background-color: #ffe4e6 !important;\\n  color: #9f1239 !important;\\n}\\n\\n\\n\\n\\n\\n.text-muted[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  color: #a78bfa;\\n}\\n\\n\\n\\n\\n\\n@media (max-width: 768px) {\\n  .page-title[_ngcontent-%COMP%] {\\n    font-size: 22px;\\n  }\\n\\n  .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 12px;\\n  }\\n\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 8px 12px;\\n  }\\n\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]::before {\\n    content: attr(data-label);\\n    font-weight: 600;\\n    color: #6f2cf4;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW5zdHJ1Y3Rvci92aWV3LWJvb2tpbmdzL3ZpZXctYm9va2luZ3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7a0NBRWtDO0FBQ2xDO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjLEVBQUUsbUJBQW1CO0FBQ3JDOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSxtQkFBbUI7RUFDbkI7Ozs7O0dBS0M7RUFDRCxZQUFZO0FBQ2Q7O0FBRUE7O2tDQUVrQztBQUNsQztFQUNFLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztBQUNoQjs7QUFFQTs7a0NBRWtDO0FBQ2xDO0VBQ0UsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTs7a0NBRWtDO0FBQ2xDO0VBQ0UsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsb0JBQW9CO0FBQ3RCOztBQUVBLFlBQVk7QUFDWjtFQUNFLG9DQUFvQztFQUNwQyx5QkFBeUI7QUFDM0I7O0FBRUEsV0FBVztBQUNYO0VBQ0Usb0NBQW9DO0VBQ3BDLHlCQUF5QjtBQUMzQjs7QUFFQSxjQUFjO0FBQ2Q7RUFDRSxvQ0FBb0M7RUFDcEMseUJBQXlCO0FBQzNCOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSxjQUFjO0FBQ2hCOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRTtJQUNFLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxhQUFhO0VBQ2Y7O0VBRUE7SUFDRSxjQUFjO0lBQ2QsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLGNBQWM7RUFDaEI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgUGFnZSBUaXRsZVxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG4ucGFnZS10aXRsZSB7XHJcbiAgZm9udC1zaXplOiAyOHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgY29sb3I6ICM2ZjJjZjQ7IC8qIFByaW1hcnkgUHVycGxlICovXHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgQ2FyZCBTdHlsaW5nXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5jYXJkLWN1c3RvbSB7XHJcbiAgYm9yZGVyLXJhZGl1czogMThweDtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXHJcbiAgICAxMzVkZWcsXHJcbiAgICAjZjhmMWZmIDAlLFxyXG4gICAgI2YzZThmZiA1MCUsXHJcbiAgICAjZjBlOWZmIDEwMCVcclxuICApO1xyXG4gIGJvcmRlcjogbm9uZTtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBCYXRjaCBIZWFkZXJcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuLmNhcmQtY3VzdG9tIGg0IHtcclxuICBjb2xvcjogIzZmMmNmNDtcclxuICBtYXJnaW4tYm90dG9tOiA2cHg7XHJcbn1cclxuXHJcbi5jYXJkLWN1c3RvbSBwIHtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbiAgY29sb3I6ICM2YjcyODA7XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgVGFibGUgU3R5bGluZ1xyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG4udGFibGUge1xyXG4gIG1hcmdpbi10b3A6IDE2cHg7XHJcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi50YWJsZSB0aGVhZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZThmZjtcclxufVxyXG5cclxuLnRhYmxlIHRoZWFkIHRoIHtcclxuICBjb2xvcjogIzViMjFiNjtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBib3JkZXItYm90dG9tOiBub25lO1xyXG59XHJcblxyXG4udGFibGUgdGJvZHkgdGQge1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG59XHJcblxyXG4udGFibGUtc3RyaXBlZCB0Ym9keSB0cjpudGgtb2YtdHlwZShvZGQpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmN2ZmO1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFN0YXR1cyBCYWRnZXNcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuLmJhZGdlIHtcclxuICBwYWRkaW5nOiA2cHggMTRweDtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBib3JkZXItcmFkaXVzOiA5OTlweDtcclxufVxyXG5cclxuLyogUGVuZGluZyAqL1xyXG4uYmctd2FybmluZyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjRjMiAhaW1wb3J0YW50O1xyXG4gIGNvbG9yOiAjOTI0MDBlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qIEJvb2tlZCAqL1xyXG4uYmctc3VjY2VzcyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2QxZmFlNSAhaW1wb3J0YW50O1xyXG4gIGNvbG9yOiAjMDY1ZjQ2ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qIENhbmNlbGxlZCAqL1xyXG4uYmctZGFuZ2VyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlNGU2ICFpbXBvcnRhbnQ7XHJcbiAgY29sb3I6ICM5ZjEyMzkgIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBFbXB0eSBTdGF0ZVxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG4udGV4dC1tdXRlZCBpIHtcclxuICBjb2xvcjogI2E3OGJmYTtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBSZXNwb25zaXZlIEFkanVzdG1lbnRzXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gIC5wYWdlLXRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICB9XHJcblxyXG4gIC50YWJsZSB0aGVhZCB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gIH1cclxuXHJcbiAgLnRhYmxlIHRib2R5IHRyIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTJweDtcclxuICB9XHJcblxyXG4gIC50YWJsZSB0Ym9keSB0ZCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgfVxyXG5cclxuICAudGFibGUgdGJvZHkgdGQ6OmJlZm9yZSB7XHJcbiAgICBjb250ZW50OiBhdHRyKGRhdGEtbGFiZWwpO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGNvbG9yOiAjNmYyY2Y0O1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","item_r5","studentName","mobileNumber","ɵɵpipeBind1","bookingDate","ɵɵproperty","ɵɵpureFunction3","_c0","status","ɵɵtextInterpolate1","item_r6","student","name","mobile","ɵɵtemplate","ViewBookingsComponent_div_4_tr_15_Template","ViewBookingsComponent_div_4_tr_17_Template","batch_r2","batchName","serviceName","startDate","bookings","ViewBookingsComponent","constructor","bookingApi","router","groupedBookings","ngOnInit","loadInstructorBookings","instructorId","localStorage","getItem","alert","navigate","getBookingsByInstructor","subscribe","next","res","grouped","forEach","booking","batchId","batch","push","fullName","Object","values","error","err","console","ɵɵdirectiveInject","i1","BookingService","i2","Router","selectors","decls","vars","consts","template","ViewBookingsComponent_Template","rf","ctx","ViewBookingsComponent_div_3_Template","ViewBookingsComponent_div_4_Template","length"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\instructor\\view-bookings\\view-bookings.component.ts","C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\instructor\\view-bookings\\view-bookings.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { BookingService } from '../../services/booking.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-view-bookings',\n  templateUrl: './view-bookings.component.html',\n  styleUrls: ['./view-bookings.component.css']\n})\nexport class ViewBookingsComponent implements OnInit {\n\n  groupedBookings: any[] = [];\n\n  constructor(\n    private bookingApi: BookingService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadInstructorBookings();\n  }\n\n  loadInstructorBookings() {\n    const instructorId = localStorage.getItem('instructorId');\n\n    if (!instructorId) {\n      alert('Instructor not logged in');\n      this.router.navigate(['/login']);\n      return;\n    }\n\n    this.bookingApi.getBookingsByInstructor(instructorId).subscribe({\n      next: (res: any[]) => {\n\n        const grouped: any = {};\n\n        res.forEach((booking) => {\n          const batchId = booking.batch.batchId;\n\n          if (!grouped[batchId]) {\n            grouped[batchId] = {\n              batchName: booking.batch.batchName,\n              serviceName: booking.batch.serviceName,\n              startDate: booking.batch.startDate,\n              bookings: []\n            };\n          }\n\n          grouped[batchId].bookings.push({\n            studentName: booking.student.fullName,\n            mobileNumber: booking.mobileNumber,\n            bookingDate: booking.bookingDate,\n            status: booking.status\n          });\n        });\n\n        this.groupedBookings = Object.values(grouped);\n      },\n      error: (err) => {\n        console.error(err);\n      }\n    });\n  }\n}\n","<div class=\"container py-4\">\n  <h2 class=\"page-title text-primary-custom mb-4\">Student Bookings</h2>\n\n  <!-- No bookings -->\n  <div *ngIf=\"groupedBookings.length === 0\" class=\"text-center text-muted mt-5\">\n    <i class=\"bi bi-info-circle fs-2\"></i>\n    <p class=\"mt-2\">No students have booked your batches yet.</p>\n  </div>\n\n  <!-- Grouped By Batch -->\n  <div *ngFor=\"let batch of groupedBookings\" class=\"mb-4\">\n    <div class=\"card card-custom p-4 shadow-sm\">\n      <!-- Batch Header -->\n      <h4 class=\"fw-bold text-primary-custom\">\n        {{ batch.batchName }}\n      </h4>\n\n      <p class=\"text-muted mb-1\">\n        <i class=\"bi bi-book\"></i>\n        Service: <strong>{{ batch.serviceName }}</strong>\n      </p>\n\n      <p class=\"text-muted mb-3\">\n        <i class=\"bi bi-calendar-event\"></i>\n        Starts on: {{ batch.startDate | date }}\n      </p>\n\n      <!-- Students Table -->\n      <table class=\"table table-striped align-middle\">\n        <thead>\n          <tr *ngFor=\"let item of batch.bookings\">\n            <td>{{ item.studentName }}</td>\n            <td>{{ item.mobileNumber }}</td>\n            <td>{{ item.bookingDate | date }}</td>\n\n            <td>\n              <span\n                class=\"badge\"\n                [ngClass]=\"{\n                  'bg-success': item.status === 'Confirmed',\n                  'bg-warning text-dark': item.status === 'Pending',\n                  'bg-danger': item.status === 'Cancelled'\n                }\"\n              >\n                {{ item.status === \"Confirmed\" ? \"Booked\" : item.status }}\n              </span>\n            </td>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr *ngFor=\"let item of batch.bookings\">\n            <td>{{ item.student.name }}</td>\n            <td>{{ item.student.mobile }}</td>\n            <td>{{ item.bookingDate | date }}</td>\n\n            <td>\n              <span\n                class=\"badge px-3 py-2\"\n                [ngClass]=\"{\n                  'bg-success': item.status === 'Confirmed',\n                  'bg-warning text-dark': item.status === 'Pending',\n                  'bg-danger': item.status === 'Cancelled'\n                }\"\n              >\n                {{ item.status }}\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}