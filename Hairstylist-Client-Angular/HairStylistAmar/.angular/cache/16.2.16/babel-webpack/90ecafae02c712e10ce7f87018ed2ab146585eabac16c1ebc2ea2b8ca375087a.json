{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/services/service-manage.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CreateServiceComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h3\");\n    i0.ɵɵtext(3, \"\\u2705 Success\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isEditMode ? \"Service updated successfully.\" : \"Service created successfully.\", \" \");\n  }\n}\nfunction CreateServiceComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 14)(2, \"h3\");\n    i0.ɵɵtext(3, \"\\u274C Error\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function CreateServiceComponent_div_23_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.closeErrorPopup());\n    });\n    i0.ɵɵtext(7, \" Close \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.errorMessage);\n  }\n}\nexport class CreateServiceComponent {\n  constructor(route, router, serviceApi) {\n    this.route = route;\n    this.router = router;\n    this.serviceApi = serviceApi;\n    this.serviceId = null;\n    this.isEditMode = false;\n    this.loading = false;\n    this.model = {\n      name: '',\n      description: '',\n      price: 0\n    };\n    // ✅ POPUP STATES (ADDED)\n    this.showSuccessPopup = false;\n    this.showErrorPopup = false;\n    this.errorMessage = 'Something went wrong. Please try again.';\n  }\n  ngOnInit() {\n    this.serviceId = this.route.snapshot.paramMap.get('id');\n    this.isEditMode = !!this.serviceId;\n  }\n  submit() {\n    if (!this.model.name || this.model.price <= 0) {\n      return;\n    }\n    this.loading = true;\n    if (this.isEditMode && this.serviceId) {\n      this.serviceApi.updateService(this.serviceId, this.model).subscribe({\n        next: () => {\n          this.loading = false;\n          this.showSuccessPopup = true;\n          setTimeout(() => {\n            this.showSuccessPopup = false;\n            this.router.navigate(['/instructor/services']);\n          }, 1800);\n        },\n        error: err => {\n          this.loading = false;\n          this.showErrorPopup = true;\n          this.errorMessage = err?.error || 'Failed to update service.';\n        }\n      });\n    } else {\n      this.serviceApi.createService(this.model).subscribe({\n        next: () => {\n          this.loading = false;\n          this.showSuccessPopup = true;\n          setTimeout(() => {\n            this.showSuccessPopup = false;\n            this.router.navigate(['/instructor/dashboard']);\n          }, 1800);\n        },\n        error: err => {\n          this.loading = false;\n          this.showErrorPopup = true;\n          this.errorMessage = err?.error || 'Failed to create service.';\n        }\n      });\n    }\n  }\n  cancel() {\n    this.router.navigate(['/instructor/services']);\n  }\n  // ✅ CLOSE ERROR POPUP\n  closeErrorPopup() {\n    this.showErrorPopup = false;\n  }\n  static {\n    this.ɵfac = function CreateServiceComponent_Factory(t) {\n      return new (t || CreateServiceComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ServiceManageService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CreateServiceComponent,\n      selectors: [[\"app-create-service\"]],\n      decls: 24,\n      vars: 8,\n      consts: [[1, \"service-form-container\"], [1, \"title\"], [3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"placeholder\", \"Enter service name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"4\", \"name\", \"description\", \"placeholder\", \"Describe the service\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"price\", \"required\", \"\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"actions\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"class\", \"popup-overlay\", 4, \"ngIf\"], [1, \"popup-overlay\"], [1, \"popup\", \"success\"], [1, \"popup\", \"error\"], [1, \"btn\", \"btn-outline\", 3, \"click\"]],\n      template: function CreateServiceComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2, 3);\n          i0.ɵɵlistener(\"ngSubmit\", function CreateServiceComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.submit();\n          });\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"label\");\n          i0.ɵɵtext(7, \"Service Name *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"input\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateServiceComponent_Template_input_ngModelChange_8_listener($event) {\n            return ctx.model.name = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\");\n          i0.ɵɵtext(11, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"textarea\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateServiceComponent_Template_textarea_ngModelChange_12_listener($event) {\n            return ctx.model.description = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\");\n          i0.ɵɵtext(15, \"Price (\\u20B9) *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"input\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateServiceComponent_Template_input_ngModelChange_16_listener($event) {\n            return ctx.model.price = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 8)(18, \"button\", 9);\n          i0.ɵɵtext(19);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"button\", 10);\n          i0.ɵɵlistener(\"click\", function CreateServiceComponent_Template_button_click_20_listener() {\n            return ctx.cancel();\n          });\n          i0.ɵɵtext(21, \" Cancel \");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(22, CreateServiceComponent_div_22_Template, 6, 1, \"div\", 11);\n          i0.ɵɵtemplate(23, CreateServiceComponent_div_23_Template, 8, 1, \"div\", 11);\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(4);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isEditMode ? \"Edit Service\" : \"Create New Service\", \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngModel\", ctx.model.name);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.model.description);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.model.price);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.loading || _r0.invalid);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Saving...\" : ctx.isEditMode ? \"Update Service\" : \"Create Service\", \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.showSuccessPopup);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showErrorPopup);\n        }\n      },\n      dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinValidator, i4.NgModel, i4.NgForm],\n      styles: [\".service-form-container[_ngcontent-%COMP%] {\\n  max-width: 600px;\\n  margin: 40px auto;\\n  padding: 24px;\\n  background: #ffffff;\\n  border-radius: 12px;\\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  font-size: 22px;\\n  font-weight: 600;\\n  color: #2a1f45;\\n  text-align: center;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: block;\\n  font-weight: 500;\\n  margin-bottom: 6px;\\n  color: #333;\\n}\\n\\n.form-control[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px 12px;\\n  border-radius: 8px;\\n  border: 1px solid #ccc;\\n  font-size: 14px;\\n}\\n\\n.form-control[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #7b5cff;\\n  box-shadow: 0 0 0 2px rgba(123, 92, 255, 0.15);\\n}\\n\\n.actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 12px;\\n  margin-top: 20px;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  padding: 10px 18px;\\n  border-radius: 8px;\\n  border: none;\\n  cursor: pointer;\\n  font-size: 14px;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #7b5cff, #b38cff);\\n  color: #fff;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.6;\\n  cursor: not-allowed;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background: #eae6ff;\\n  color: #2a1f45;\\n}\\n.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background: #d4caff;\\n}\\n\\n\\n\\n\\n\\n.popup-overlay[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(0, 0, 0, 0.45);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 9999;\\n}\\n\\n\\n\\n\\n\\n.popup[_ngcontent-%COMP%] {\\n  background: #ffffff;\\n  padding: 24px 28px;\\n  width: 320px;\\n  border-radius: 14px;\\n  text-align: center;\\n  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);\\n  animation: _ngcontent-%COMP%_popupFadeIn 0.25s ease-out;\\n}\\n\\n\\n\\n\\n\\n.popup.success[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  color: #2e7d32;\\n  margin-bottom: 8px;\\n}\\n\\n.popup.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #444;\\n}\\n\\n\\n\\n\\n\\n.popup.error[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  color: #c62828;\\n  margin-bottom: 8px;\\n}\\n\\n.popup.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #444;\\n}\\n\\n\\n\\n\\n\\n.popup[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%] {\\n  margin-top: 12px;\\n  padding: 6px 16px;\\n  border-radius: 8px;\\n  border: 1px solid #ccc;\\n  background: transparent;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n}\\n\\n.popup[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover {\\n  background: #f5f5f5;\\n}\\n\\n\\n\\n\\n\\n@keyframes _ngcontent-%COMP%_popupFadeIn {\\n  from {\\n    opacity: 0;\\n    transform: scale(0.9);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: scale(1);\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9pbnN0cnVjdG9yL2NyZWF0ZS1zZXJ2aWNlL2NyZWF0ZS1zZXJ2aWNlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsbUJBQW1CO0VBQ25CLDJDQUEyQztBQUM3Qzs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixxQkFBcUI7RUFDckIsOENBQThDO0FBQ2hEOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFNBQVM7RUFDVCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixlQUFlO0VBQ2YsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHFEQUFxRDtFQUNyRCxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7QUFDQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTs7OEJBRThCO0FBQzlCO0VBQ0UsZUFBZTtFQUNmLE1BQU07RUFDTixPQUFPO0VBQ1AsV0FBVztFQUNYLFlBQVk7RUFDWiwrQkFBK0I7RUFDL0IsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsYUFBYTtBQUNmOztBQUVBOzs4QkFFOEI7QUFDOUI7RUFDRSxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLDJDQUEyQztFQUMzQyxxQ0FBcUM7QUFDdkM7O0FBRUE7OzhCQUU4QjtBQUM5QjtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7OzhCQUU4QjtBQUM5QjtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7OzhCQUU4QjtBQUM5QjtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtFQUN0Qix1QkFBdUI7RUFDdkIsZUFBZTtFQUNmLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTs7OEJBRThCO0FBQzlCO0VBQ0U7SUFDRSxVQUFVO0lBQ1YscUJBQXFCO0VBQ3ZCO0VBQ0E7SUFDRSxVQUFVO0lBQ1YsbUJBQW1CO0VBQ3JCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VydmljZS1mb3JtLWNvbnRhaW5lciB7XHJcbiAgbWF4LXdpZHRoOiA2MDBweDtcclxuICBtYXJnaW46IDQwcHggYXV0bztcclxuICBwYWRkaW5nOiAyNHB4O1xyXG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBib3gtc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgZm9udC1zaXplOiAyMnB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgY29sb3I6ICMyYTFmNDU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uZm9ybS1ncm91cCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxufVxyXG5cclxubGFiZWwge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgbWFyZ2luLWJvdHRvbTogNnB4O1xyXG4gIGNvbG9yOiAjMzMzO1xyXG59XHJcblxyXG4uZm9ybS1jb250cm9sIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAxMHB4IDEycHg7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG4uZm9ybS1jb250cm9sOmZvY3VzIHtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGJvcmRlci1jb2xvcjogIzdiNWNmZjtcclxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgxMjMsIDkyLCAyNTUsIDAuMTUpO1xyXG59XHJcblxyXG4uYWN0aW9ucyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBnYXA6IDEycHg7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxufVxyXG5cclxuLmJ0biB7XHJcbiAgcGFkZGluZzogMTBweCAxOHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5IHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjN2I1Y2ZmLCAjYjM4Y2ZmKTtcclxuICBjb2xvcjogI2ZmZjtcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5OmRpc2FibGVkIHtcclxuICBvcGFjaXR5OiAwLjY7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxufVxyXG5cclxuLmJ0bi1zZWNvbmRhcnkge1xyXG4gIGJhY2tncm91bmQ6ICNlYWU2ZmY7XHJcbiAgY29sb3I6ICMyYTFmNDU7XHJcbn1cclxuLmJ0bi1zZWNvbmRhcnk6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICNkNGNhZmY7XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgUE9QVVAgT1ZFUkxBWVxyXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5wb3B1cC1vdmVybGF5IHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC40NSk7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIHotaW5kZXg6IDk5OTk7XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgUE9QVVAgQ09OVEFJTkVSXHJcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuLnBvcHVwIHtcclxuICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gIHBhZGRpbmc6IDI0cHggMjhweDtcclxuICB3aWR0aDogMzIwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMTRweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgYm94LXNoYWRvdzogMCAxMnB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjI1KTtcclxuICBhbmltYXRpb246IHBvcHVwRmFkZUluIDAuMjVzIGVhc2Utb3V0O1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFNVQ0NFU1MgUE9QVVBcclxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG4ucG9wdXAuc3VjY2VzcyBoMyB7XHJcbiAgY29sb3I6ICMyZTdkMzI7XHJcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG59XHJcblxyXG4ucG9wdXAuc3VjY2VzcyBwIHtcclxuICBjb2xvcjogIzQ0NDtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBFUlJPUiBQT1BVUFxyXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5wb3B1cC5lcnJvciBoMyB7XHJcbiAgY29sb3I6ICNjNjI4Mjg7XHJcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG59XHJcblxyXG4ucG9wdXAuZXJyb3IgcCB7XHJcbiAgY29sb3I6ICM0NDQ7XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgQlVUVE9OIElOU0lERSBQT1BVUFxyXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5wb3B1cCAuYnRuLW91dGxpbmUge1xyXG4gIG1hcmdpbi10b3A6IDEycHg7XHJcbiAgcGFkZGluZzogNnB4IDE2cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XHJcbn1cclxuXHJcbi5wb3B1cCAuYnRuLW91dGxpbmU6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgQU5JTUFUSU9OXHJcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuQGtleWZyYW1lcyBwb3B1cEZhZGVJbiB7XHJcbiAgZnJvbSB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpO1xyXG4gIH1cclxuICB0byB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","isEditMode","ɵɵlistener","CreateServiceComponent_div_23_Template_button_click_6_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","closeErrorPopup","ɵɵtextInterpolate","ctx_r2","errorMessage","CreateServiceComponent","constructor","route","router","serviceApi","serviceId","loading","model","name","description","price","showSuccessPopup","showErrorPopup","ngOnInit","snapshot","paramMap","get","submit","updateService","subscribe","next","setTimeout","navigate","error","err","createService","cancel","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","ServiceManageService","selectors","decls","vars","consts","template","CreateServiceComponent_Template","rf","ctx","CreateServiceComponent_Template_form_ngSubmit_3_listener","CreateServiceComponent_Template_input_ngModelChange_8_listener","$event","CreateServiceComponent_Template_textarea_ngModelChange_12_listener","CreateServiceComponent_Template_input_ngModelChange_16_listener","CreateServiceComponent_Template_button_click_20_listener","ɵɵtemplate","CreateServiceComponent_div_22_Template","CreateServiceComponent_div_23_Template","ɵɵproperty","_r0","invalid"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\modules\\instructor\\create-service\\create-service.component.ts","C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\modules\\instructor\\create-service\\create-service.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ServiceManageService } from 'src/app/services/services/service-manage.service';\nimport { CreateServiceRequest } from 'src/app/interfaces/create-service-request';\n\n@Component({\n  selector: 'app-create-service',\n  templateUrl: './create-service.component.html',\n  styleUrls: ['./create-service.component.css']\n})\nexport class CreateServiceComponent implements OnInit {\n\n  serviceId: string | null = null;\n  isEditMode = false;\n  loading = false;\n\n  model: CreateServiceRequest = {\n    name: '',\n    description: '',\n    price: 0\n  };\n\n  // ✅ POPUP STATES (ADDED)\n  showSuccessPopup = false;\n  showErrorPopup = false;\n  errorMessage = 'Something went wrong. Please try again.';\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private serviceApi: ServiceManageService\n  ) {}\n\n  ngOnInit(): void {\n    this.serviceId = this.route.snapshot.paramMap.get('id');\n    this.isEditMode = !!this.serviceId;\n  }\n\n  submit() {\n    if (!this.model.name || this.model.price <= 0) {\n      return;\n    }\n\n    this.loading = true;\n\n    if (this.isEditMode && this.serviceId) {\n      this.serviceApi.updateService(this.serviceId, this.model)\n        .subscribe({\n          next: () => {\n            this.loading = false;\n            this.showSuccessPopup = true;\n\n            setTimeout(() => {\n              this.showSuccessPopup = false;\n              this.router.navigate(['/instructor/services']);\n            }, 1800);\n          },\n          error: (err) => {\n            this.loading = false;\n            this.showErrorPopup = true;\n            this.errorMessage = err?.error || 'Failed to update service.';\n          }\n        });\n    } else {\n      this.serviceApi.createService(this.model)\n        .subscribe({\n          next: () => {\n            this.loading = false;\n            this.showSuccessPopup = true;\n\n            setTimeout(() => {\n              this.showSuccessPopup = false;\n              this.router.navigate(['/instructor/dashboard']);\n            }, 1800);\n          },\n          error: (err) => {\n            this.loading = false;\n            this.showErrorPopup = true;\n            this.errorMessage = err?.error || 'Failed to create service.';\n          }\n        });\n    }\n  }\n\n  cancel() {\n    this.router.navigate(['/instructor/services']);\n  }\n\n  // ✅ CLOSE ERROR POPUP\n  closeErrorPopup(): void {\n    this.showErrorPopup = false;\n  }\n}\n","<div class=\"service-form-container\">\r\n\r\n  <h2 class=\"title\">\r\n    {{ isEditMode ? 'Edit Service' : 'Create New Service' }}\r\n  </h2>\r\n\r\n  <form (ngSubmit)=\"submit()\" #form=\"ngForm\">\r\n\r\n    <!-- Service Name -->\r\n    <div class=\"form-group\">\r\n      <label>Service Name *</label>\r\n      <input\r\n        type=\"text\"\r\n        class=\"form-control\"\r\n        name=\"name\"\r\n        [(ngModel)]=\"model.name\"\r\n        required\r\n        placeholder=\"Enter service name\"\r\n      />\r\n    </div>\r\n\r\n    <!-- Description -->\r\n    <div class=\"form-group\">\r\n      <label>Description</label>\r\n      <textarea\r\n        class=\"form-control\"\r\n        rows=\"4\"\r\n        name=\"description\"\r\n        [(ngModel)]=\"model.description\"\r\n        placeholder=\"Describe the service\"\r\n      ></textarea>\r\n    </div>\r\n\r\n    <!-- Price -->\r\n    <div class=\"form-group\">\r\n      <label>Price (₹) *</label>\r\n      <input\r\n        type=\"number\"\r\n        class=\"form-control\"\r\n        name=\"price\"\r\n        [(ngModel)]=\"model.price\"\r\n        required\r\n        min=\"1\"\r\n      />\r\n    </div>\r\n\r\n    <!-- Buttons -->\r\n    <div class=\"actions\">\r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-primary\"\r\n        [disabled]=\"loading || form.invalid\"\r\n      >\r\n        {{ loading ? 'Saving...' : (isEditMode ? 'Update Service' : 'Create Service') }}\r\n      </button>\r\n\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-secondary\"\r\n        (click)=\"cancel()\"\r\n      >\r\n        Cancel\r\n      </button>\r\n    </div>\r\n\r\n  </form>\r\n</div>\r\n\r\n<!-- ✅ SUCCESS POPUP -->\r\n<div class=\"popup-overlay\" *ngIf=\"showSuccessPopup\">\r\n  <div class=\"popup success\">\r\n    <h3>✅ Success</h3>\r\n    <p>\r\n      {{ isEditMode ? 'Service updated successfully.' : 'Service created successfully.' }}\r\n    </p>\r\n  </div>\r\n</div>\r\n\r\n<!-- ❌ ERROR POPUP -->\r\n<div class=\"popup-overlay\" *ngIf=\"showErrorPopup\">\r\n  <div class=\"popup error\">\r\n    <h3>❌ Error</h3>\r\n    <p>{{ errorMessage }}</p>\r\n    <button class=\"btn btn-outline\" (click)=\"closeErrorPopup()\">\r\n      Close\r\n    </button>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}