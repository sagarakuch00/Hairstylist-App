{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/batches/batch-manage.service\";\nimport * as i2 from \"src/app/services/services/service-query.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction CreateBatchComponent_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const service_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", service_r2.serviceId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", service_r2.name, \" \");\n  }\n}\nexport class CreateBatchComponent {\n  constructor(batchManageService, serviceQueryService, router) {\n    this.batchManageService = batchManageService;\n    this.serviceQueryService = serviceQueryService;\n    this.router = router;\n    this.batchName = '';\n    this.description = '';\n    this.price = 0;\n    this.startDate = '';\n    this.serviceId = '';\n    this.totalSeats = 0;\n    this.mobileNumber = '';\n    this.minStartDate = '';\n    this.showSuccessToast = false;\n    this.services = [];\n    this.isSubmitting = false;\n  }\n  ngOnInit() {\n    this.setMinStartDate();\n    this.fetchServices();\n  }\n  setMinStartDate() {\n    const today = new Date();\n    this.minStartDate = today.toISOString().split('T')[0];\n  }\n  fetchServices() {\n    this.serviceQueryService.getAllServices().subscribe({\n      next: services => {\n        this.services = services;\n      },\n      error: error => {\n        console.error('Error loading services', error);\n      }\n    });\n  }\n  submitBatch() {\n    if (this.isSubmitting) return;\n    const payload = {\n      batchName: this.batchName,\n      description: this.description,\n      price: this.price,\n      totalSeats: this.totalSeats,\n      availableSeats: this.totalSeats,\n      startDate: this.startDate,\n      serviceId: this.serviceId,\n      mobileNumber: this.mobileNumber\n    };\n    this.isSubmitting = true;\n    this.batchManageService.createBatch(payload).subscribe({\n      next: () => {\n        this.showSuccessToast = true;\n        setTimeout(() => {\n          this.showSuccessToast = false;\n          this.router.navigate(['/instructor/batches']);\n        }, 1800);\n        this.router.navigate(['/instructor/batches']);\n      },\n      error: error => {\n        console.error('Batch creation failed', error);\n        this.isSubmitting = false;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function CreateBatchComponent_Factory(t) {\n      return new (t || CreateBatchComponent)(i0.ɵɵdirectiveInject(i1.BatchManageService), i0.ɵɵdirectiveInject(i2.ServiceQueryService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CreateBatchComponent,\n      selectors: [[\"app-create-batch\"]],\n      decls: 38,\n      vars: 10,\n      consts: [[1, \"batch-container\"], [1, \"page-title\"], [1, \"batch-form\", 3, \"ngSubmit\"], [\"batchForm\", \"ngForm\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"batchName\", \"required\", \"\", \"placeholder\", \"Enter batch name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"3\", \"name\", \"description\", \"required\", \"\", \"placeholder\", \"Brief description of the batch\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"price\", \"required\", \"\", \"min\", \"0\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"totalSeats\", \"required\", \"\", \"min\", \"1\", \"placeholder\", \"Enter total seats\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"startDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"min\", \"ngModelChange\"], [\"name\", \"serviceId\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"tel\", \"name\", \"mobileNumber\", \"required\", \"\", \"pattern\", \"[0-9]{10}\", \"placeholder\", \"Enter 10-digit mobile number\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary-custom\", 3, \"disabled\"], [3, \"value\"]],\n      template: function CreateBatchComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Create New Batch\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2, 3);\n          i0.ɵɵlistener(\"ngSubmit\", function CreateBatchComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.submitBatch();\n          });\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"label\");\n          i0.ɵɵtext(7, \"Batch Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"input\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateBatchComponent_Template_input_ngModelChange_8_listener($event) {\n            return ctx.batchName = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\");\n          i0.ɵɵtext(11, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"textarea\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateBatchComponent_Template_textarea_ngModelChange_12_listener($event) {\n            return ctx.description = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\");\n          i0.ɵɵtext(15, \"Price (\\u20B9)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"input\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateBatchComponent_Template_input_ngModelChange_16_listener($event) {\n            return ctx.price = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 4)(18, \"label\");\n          i0.ɵɵtext(19, \"Total Seats\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 8);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateBatchComponent_Template_input_ngModelChange_20_listener($event) {\n            return ctx.totalSeats = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 4)(22, \"label\");\n          i0.ɵɵtext(23, \"Start Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateBatchComponent_Template_input_ngModelChange_24_listener($event) {\n            return ctx.startDate = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(25, \"div\", 4)(26, \"label\");\n          i0.ɵɵtext(27, \"Service\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"select\", 10);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateBatchComponent_Template_select_ngModelChange_28_listener($event) {\n            return ctx.serviceId = $event;\n          });\n          i0.ɵɵelementStart(29, \"option\", 11);\n          i0.ɵɵtext(30, \"-- Select Service --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(31, CreateBatchComponent_option_31_Template, 2, 2, \"option\", 12);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(32, \"div\", 4)(33, \"label\");\n          i0.ɵɵtext(34, \"Contact Mobile Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"input\", 13);\n          i0.ɵɵlistener(\"ngModelChange\", function CreateBatchComponent_Template_input_ngModelChange_35_listener($event) {\n            return ctx.mobileNumber = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(36, \"button\", 14);\n          i0.ɵɵtext(37, \" Create Batch \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(4);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngModel\", ctx.batchName);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.description);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.price);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.totalSeats);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.startDate)(\"min\", ctx.minStartDate);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.serviceId);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.services);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.mobileNumber);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", _r0.invalid);\n        }\n      },\n      dependencies: [i4.NgForOf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.PatternValidator, i5.MinValidator, i5.NgModel, i5.NgForm],\n      styles: [\"\\n\\n\\n\\n.batch-container[_ngcontent-%COMP%] {\\n  max-width: 560px;\\n  margin: 40px auto; \\n\\n  padding: 0 16px;   \\n\\n}\\n\\n\\n\\n\\n\\n.page-title[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  font-weight: 600;\\n  color: var(--primary-purple);\\n  margin-bottom: 24px;\\n  text-align: left;\\n}\\n\\n\\n\\n\\n\\n.batch-form[_ngcontent-%COMP%] {\\n  background: var(--bg-soft);\\n  padding: 26px;\\n  border-radius: 16px;\\n  box-shadow: var(--shadow-soft);\\n\\n  display: flex;\\n  flex-direction: column;\\n  gap: 18px;\\n}\\n\\n\\n\\n\\n\\n.form-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-size: 13.5px;\\n  margin-bottom: 6px;\\n  color: var(--text-dark);\\n  font-weight: 500;\\n}\\n\\n\\n\\n\\n\\n.form-control[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  padding: 12px 14px; \\n\\n  font-size: 14px;\\n  border: 1px solid #ddd;\\n  transition: all 0.25s ease;\\n}\\n\\n.form-control[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: var(--primary-purple);\\n  box-shadow: 0 0 0 2px rgba(106, 77, 244, 0.15);\\n}\\n\\n\\n\\n\\n\\n.btn-primary-custom[_ngcontent-%COMP%] {\\n  margin-top: 12px;\\n  align-self: center;\\n\\n  background: var(--gradient-primary);\\n  color: #fff;\\n  border: none;\\n  border-radius: 24px;\\n  padding: 12px 34px;\\n\\n  font-size: 15px;\\n  font-weight: 500;\\n  cursor: pointer;\\n  transition: transform 0.2s ease, opacity 0.2s ease;\\n}\\n\\n.btn-primary-custom[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n  opacity: 0.92;\\n}\\n\\n.btn-primary-custom[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.6;\\n  cursor: not-allowed;\\n}\\n\\n\\n\\n\\n\\n@media (max-width: 1023px) {\\n  .batch-container[_ngcontent-%COMP%] {\\n    max-width: 600px;\\n  }\\n}\\n\\n\\n\\n\\n\\n@media (max-width: 640px) {\\n\\n  .batch-container[_ngcontent-%COMP%] {\\n    margin: 24px auto;\\n    max-width: 100%;\\n    padding: 0 14px;\\n  }\\n\\n  .page-title[_ngcontent-%COMP%] {\\n    text-align: center;\\n    font-size: 22px;\\n  }\\n\\n  .batch-form[_ngcontent-%COMP%] {\\n    padding: 20px;\\n  }\\n\\n  .btn-primary-custom[_ngcontent-%COMP%] {\\n    width: 100%;        \\n\\n    border-radius: 12px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9pbnN0cnVjdG9yL2NyZWF0ZS1iYXRjaC9jcmVhdGUtYmF0Y2guY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7a0NBRWtDO0FBQ2xDO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQixFQUFFLHdCQUF3QjtFQUMzQyxlQUFlLElBQUksb0NBQW9DO0FBQ3pEOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLDRCQUE0QjtFQUM1QixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSwwQkFBMEI7RUFDMUIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiw4QkFBOEI7O0VBRTlCLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztBQUNYOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQix1QkFBdUI7RUFDdkIsZ0JBQWdCO0FBQ2xCOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRSxtQkFBbUI7RUFDbkIsa0JBQWtCLEVBQUUsMEJBQTBCO0VBQzlDLGVBQWU7RUFDZixzQkFBc0I7RUFDdEIsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1DQUFtQztFQUNuQyw4Q0FBOEM7QUFDaEQ7O0FBRUE7O2tDQUVrQztBQUNsQztFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7O0VBRWxCLG1DQUFtQztFQUNuQyxXQUFXO0VBQ1gsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixrQkFBa0I7O0VBRWxCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGtEQUFrRDtBQUNwRDs7QUFFQTtFQUNFLDJCQUEyQjtFQUMzQixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0FBQ3JCOztBQUVBOztrQ0FFa0M7QUFDbEM7RUFDRTtJQUNFLGdCQUFnQjtFQUNsQjtBQUNGOztBQUVBOztrQ0FFa0M7QUFDbEM7O0VBRUU7SUFDRSxpQkFBaUI7SUFDakIsZUFBZTtJQUNmLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLGFBQWE7RUFDZjs7RUFFQTtJQUNFLFdBQVcsU0FBUyxrQ0FBa0M7SUFDdEQsbUJBQW1CO0VBQ3JCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBDT05UQUlORVJcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuLmJhdGNoLWNvbnRhaW5lciB7XHJcbiAgbWF4LXdpZHRoOiA1NjBweDtcclxuICBtYXJnaW46IDQwcHggYXV0bzsgLyogw6LCnMKFIGNlbnRlciBvbiBkZXNrdG9wICovXHJcbiAgcGFkZGluZzogMCAxNnB4OyAgIC8qIMOiwpzChSBzYWZlIHBhZGRpbmcgb24gc21hbGwgc2NyZWVucyAqL1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBQQUdFIFRJVExFXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5wYWdlLXRpdGxlIHtcclxuICBmb250LXNpemU6IDI0cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjb2xvcjogdmFyKC0tcHJpbWFyeS1wdXJwbGUpO1xyXG4gIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgRk9STSBDQVJEXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5iYXRjaC1mb3JtIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zb2Z0KTtcclxuICBwYWRkaW5nOiAyNnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LXNvZnQpO1xyXG5cclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgZ2FwOiAxOHB4O1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBGT1JNIEdST1VQXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5mb3JtLWdyb3VwIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIGxhYmVsIHtcclxuICBmb250LXNpemU6IDEzLjVweDtcclxuICBtYXJnaW4tYm90dG9tOiA2cHg7XHJcbiAgY29sb3I6IHZhcigtLXRleHQtZGFyayk7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgSU5QVVRTXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbi5mb3JtLWNvbnRyb2wge1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgcGFkZGluZzogMTJweCAxNHB4OyAvKiDDosKcwoUgYmV0dGVyIHRvdWNoIHRhcmdldCAqL1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjI1cyBlYXNlO1xyXG59XHJcblxyXG4uZm9ybS1jb250cm9sOmZvY3VzIHtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1wdXJwbGUpO1xyXG4gIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDEwNiwgNzcsIDI0NCwgMC4xNSk7XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEJVVFRPTlxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG4uYnRuLXByaW1hcnktY3VzdG9tIHtcclxuICBtYXJnaW4tdG9wOiAxMnB4O1xyXG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcclxuXHJcbiAgYmFja2dyb3VuZDogdmFyKC0tZ3JhZGllbnQtcHJpbWFyeSk7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XHJcbiAgcGFkZGluZzogMTJweCAzNHB4O1xyXG5cclxuICBmb250LXNpemU6IDE1cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZSwgb3BhY2l0eSAwLjJzIGVhc2U7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeS1jdXN0b206aG92ZXIge1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcclxuICBvcGFjaXR5OiAwLjkyO1xyXG59XHJcblxyXG4uYnRuLXByaW1hcnktY3VzdG9tOmRpc2FibGVkIHtcclxuICBvcGFjaXR5OiAwLjY7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgVEFCTEVUIFZJRVdcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDEwMjNweCkge1xyXG4gIC5iYXRjaC1jb250YWluZXIge1xyXG4gICAgbWF4LXdpZHRoOiA2MDBweDtcclxuICB9XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIE1PQklMRSBWSUVXXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA2NDBweCkge1xyXG5cclxuICAuYmF0Y2gtY29udGFpbmVyIHtcclxuICAgIG1hcmdpbjogMjRweCBhdXRvO1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogMCAxNHB4O1xyXG4gIH1cclxuXHJcbiAgLnBhZ2UtdGl0bGUge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gIH1cclxuXHJcbiAgLmJhdGNoLWZvcm0ge1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICB9XHJcblxyXG4gIC5idG4tcHJpbWFyeS1jdXN0b20ge1xyXG4gICAgd2lkdGg6IDEwMCU7ICAgICAgICAvKiDDosKcwoUgZnVsbC13aWR0aCBidXR0b24gb24gbW9iaWxlICovXHJcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","service_r2","serviceId","ɵɵadvance","ɵɵtextInterpolate1","name","CreateBatchComponent","constructor","batchManageService","serviceQueryService","router","batchName","description","price","startDate","totalSeats","mobileNumber","minStartDate","showSuccessToast","services","isSubmitting","ngOnInit","setMinStartDate","fetchServices","today","Date","toISOString","split","getAllServices","subscribe","next","error","console","submitBatch","payload","availableSeats","createBatch","setTimeout","navigate","ɵɵdirectiveInject","i1","BatchManageService","i2","ServiceQueryService","i3","Router","selectors","decls","vars","consts","template","CreateBatchComponent_Template","rf","ctx","ɵɵlistener","CreateBatchComponent_Template_form_ngSubmit_3_listener","CreateBatchComponent_Template_input_ngModelChange_8_listener","$event","CreateBatchComponent_Template_textarea_ngModelChange_12_listener","CreateBatchComponent_Template_input_ngModelChange_16_listener","CreateBatchComponent_Template_input_ngModelChange_20_listener","CreateBatchComponent_Template_input_ngModelChange_24_listener","CreateBatchComponent_Template_select_ngModelChange_28_listener","ɵɵtemplate","CreateBatchComponent_option_31_Template","CreateBatchComponent_Template_input_ngModelChange_35_listener","_r0","invalid"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\modules\\instructor\\create-batch\\create-batch.component.ts","C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\modules\\instructor\\create-batch\\create-batch.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BatchManageService } from 'src/app/services/batches/batch-manage.service';\nimport { ServiceQueryService } from 'src/app/services/services/service-query.service';\n\n@Component({\n  selector: 'app-create-batch',\n  templateUrl: './create-batch.component.html',\n  styleUrls: ['./create-batch.component.css']\n})\nexport class CreateBatchComponent implements OnInit {\n\n\n  batchName = '';\n  description = '';\n  price = 0;\n  startDate = '';\n  serviceId = '';\n  totalSeats = 0;\n  mobileNumber = '';\n  minStartDate = '';\n\n  showSuccessToast = false;\n\n  services: any[] = [];\n\n  isSubmitting = false;\n\n  constructor(\n    private batchManageService: BatchManageService,\n    private serviceQueryService: ServiceQueryService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n  this.setMinStartDate();\n  this.fetchServices();\n}\n\nsetMinStartDate(): void {\n  const today = new Date();\n  this.minStartDate = today.toISOString().split('T')[0];\n}\n\n\n  fetchServices(): void {\n    this.serviceQueryService.getAllServices().subscribe({\n      next: (services) => {\n        this.services = services;\n      },\n      error: (error) => {\n        console.error('Error loading services', error);\n      }\n    });\n  }\n\n  submitBatch(): void {\n\n  if (this.isSubmitting) return;\n\n  const payload = {\n    batchName: this.batchName,\n    description: this.description,\n    price: this.price,\n\n    totalSeats: this.totalSeats,\n    availableSeats: this.totalSeats, // ✅ AUTO-SET HERE\n\n    startDate: this.startDate,\n    serviceId: this.serviceId,\n    mobileNumber: this.mobileNumber\n  };\n\n  this.isSubmitting = true;\n\n  this.batchManageService.createBatch(payload).subscribe({\n    next: () => {\n      this.showSuccessToast = true;\n\nsetTimeout(() => {\n  this.showSuccessToast = false;\n  this.router.navigate(['/instructor/batches']);\n}, 1800);\n\n      this.router.navigate(['/instructor/batches']);\n    },\n    error: (error) => {\n      console.error('Batch creation failed', error);\n      this.isSubmitting = false;\n    }\n  });\n}\n}","<div class=\"batch-container\">\n  <h2 class=\"page-title\">Create New Batch</h2>\n\n  <form class=\"batch-form\" (ngSubmit)=\"submitBatch()\" #batchForm=\"ngForm\">\n    <!-- Batch Name -->\n    <div class=\"form-group\">\n      <label>Batch Name</label>\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        name=\"batchName\"\n        [(ngModel)]=\"batchName\"\n        required\n        placeholder=\"Enter batch name\"\n      />\n    </div>\n\n    <!-- Description -->\n    <div class=\"form-group\">\n      <label>Description</label>\n      <textarea\n        class=\"form-control\"\n        rows=\"3\"\n        name=\"description\"\n        [(ngModel)]=\"description\"\n        required\n        placeholder=\"Brief description of the batch\"\n      ></textarea>\n    </div>\n\n    <!-- Price -->\n    <div class=\"form-group\">\n      <label>Price (₹)</label>\n      <input\n        type=\"number\"\n        class=\"form-control\"\n        name=\"price\"\n        [(ngModel)]=\"price\"\n        required\n        min=\"0\"\n      />\n    </div>\n\n    <!-- Total Seats -->\n    <div class=\"form-group\">\n      <label>Total Seats</label>\n      <input\n        type=\"number\"\n        class=\"form-control\"\n        name=\"totalSeats\"\n        [(ngModel)]=\"totalSeats\"\n        required\n        min=\"1\"\n        placeholder=\"Enter total seats\"\n      />\n    </div>\n\n    <!-- Start Date -->\n    <div class=\"form-group\">\n      <label>Start Date</label>\n      <input\n        type=\"date\"\n        class=\"form-control\"\n        name=\"startDate\"\n        [(ngModel)]=\"startDate\"\n        [min]=\"minStartDate\"\n        required\n      />\n    </div>\n\n    <!-- Service -->\n    <div class=\"form-group\">\n      <label>Service</label>\n      <select\n        class=\"form-control\"\n        name=\"serviceId\"\n        [(ngModel)]=\"serviceId\"\n        required\n      >\n        <option value=\"\">-- Select Service --</option>\n        <option *ngFor=\"let service of services\" [value]=\"service.serviceId\">\n          {{ service.name }}\n        </option>\n      </select>\n    </div>\n\n    <!-- Contact Mobile Number -->\n    <div class=\"form-group\">\n      <label>Contact Mobile Number</label>\n      <input\n        type=\"tel\"\n        class=\"form-control\"\n        name=\"mobileNumber\"\n        [(ngModel)]=\"mobileNumber\"\n        required\n        pattern=\"[0-9]{10}\"\n        placeholder=\"Enter 10-digit mobile number\"\n      />\n    </div>\n\n    <!-- Submit -->\n    <button\n      class=\"btn btn-primary-custom\"\n      type=\"submit\"\n      [disabled]=\"batchForm.invalid\"\n    >\n      Create Batch\n    </button>\n  </form>\n</div>\n"],"mappings":";;;;;;;;ICgFQA,EAAA,CAAAC,cAAA,iBAAqE;IACnED,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAFgCH,EAAA,CAAAI,UAAA,UAAAC,UAAA,CAAAC,SAAA,CAA2B;IAClEN,EAAA,CAAAO,SAAA,GACF;IADEP,EAAA,CAAAQ,kBAAA,MAAAH,UAAA,CAAAI,IAAA,MACF;;;ADxER,OAAM,MAAOC,oBAAoB;EAkB/BC,YACUC,kBAAsC,EACtCC,mBAAwC,EACxCC,MAAc;IAFd,KAAAF,kBAAkB,GAAlBA,kBAAkB;IAClB,KAAAC,mBAAmB,GAAnBA,mBAAmB;IACnB,KAAAC,MAAM,GAANA,MAAM;IAlBhB,KAAAC,SAAS,GAAG,EAAE;IACd,KAAAC,WAAW,GAAG,EAAE;IAChB,KAAAC,KAAK,GAAG,CAAC;IACT,KAAAC,SAAS,GAAG,EAAE;IACd,KAAAZ,SAAS,GAAG,EAAE;IACd,KAAAa,UAAU,GAAG,CAAC;IACd,KAAAC,YAAY,GAAG,EAAE;IACjB,KAAAC,YAAY,GAAG,EAAE;IAEjB,KAAAC,gBAAgB,GAAG,KAAK;IAExB,KAAAC,QAAQ,GAAU,EAAE;IAEpB,KAAAC,YAAY,GAAG,KAAK;EAMjB;EAEHC,QAAQA,CAAA;IACR,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAD,eAAeA,CAAA;IACb,MAAME,KAAK,GAAG,IAAIC,IAAI,EAAE;IACxB,IAAI,CAACR,YAAY,GAAGO,KAAK,CAACE,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACvD;EAGEJ,aAAaA,CAAA;IACX,IAAI,CAACd,mBAAmB,CAACmB,cAAc,EAAE,CAACC,SAAS,CAAC;MAClDC,IAAI,EAAGX,QAAQ,IAAI;QACjB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MAC1B,CAAC;MACDY,KAAK,EAAGA,KAAK,IAAI;QACfC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;KACD,CAAC;EACJ;EAEAE,WAAWA,CAAA;IAEX,IAAI,IAAI,CAACb,YAAY,EAAE;IAEvB,MAAMc,OAAO,GAAG;MACdvB,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,KAAK,EAAE,IAAI,CAACA,KAAK;MAEjBE,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BoB,cAAc,EAAE,IAAI,CAACpB,UAAU;MAE/BD,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBZ,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBc,YAAY,EAAE,IAAI,CAACA;KACpB;IAED,IAAI,CAACI,YAAY,GAAG,IAAI;IAExB,IAAI,CAACZ,kBAAkB,CAAC4B,WAAW,CAACF,OAAO,CAAC,CAACL,SAAS,CAAC;MACrDC,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACZ,gBAAgB,GAAG,IAAI;QAElCmB,UAAU,CAAC,MAAK;UACd,IAAI,CAACnB,gBAAgB,GAAG,KAAK;UAC7B,IAAI,CAACR,MAAM,CAAC4B,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC;QAC/C,CAAC,EAAE,IAAI,CAAC;QAEF,IAAI,CAAC5B,MAAM,CAAC4B,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC;MAC/C,CAAC;MACDP,KAAK,EAAGA,KAAK,IAAI;QACfC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7C,IAAI,CAACX,YAAY,GAAG,KAAK;MAC3B;KACD,CAAC;EACJ;;;uBAjFad,oBAAoB,EAAAV,EAAA,CAAA2C,iBAAA,CAAAC,EAAA,CAAAC,kBAAA,GAAA7C,EAAA,CAAA2C,iBAAA,CAAAG,EAAA,CAAAC,mBAAA,GAAA/C,EAAA,CAAA2C,iBAAA,CAAAK,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAApBvC,oBAAoB;MAAAwC,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCVjCxD,EAAA,CAAAC,cAAA,aAA6B;UACJD,EAAA,CAAAE,MAAA,uBAAgB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAE5CH,EAAA,CAAAC,cAAA,iBAAwE;UAA/CD,EAAA,CAAA0D,UAAA,sBAAAC,uDAAA;YAAA,OAAYF,GAAA,CAAApB,WAAA,EAAa;UAAA,EAAC;UAEjDrC,EAAA,CAAAC,cAAA,aAAwB;UACfD,EAAA,CAAAE,MAAA,iBAAU;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACzBH,EAAA,CAAAC,cAAA,eAOE;UAHAD,EAAA,CAAA0D,UAAA,2BAAAE,6DAAAC,MAAA;YAAA,OAAAJ,GAAA,CAAA1C,SAAA,GAAA8C,MAAA;UAAA,EAAuB;UAJzB7D,EAAA,CAAAG,YAAA,EAOE;UAIJH,EAAA,CAAAC,cAAA,aAAwB;UACfD,EAAA,CAAAE,MAAA,mBAAW;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UAC1BH,EAAA,CAAAC,cAAA,mBAOC;UAHCD,EAAA,CAAA0D,UAAA,2BAAAI,iEAAAD,MAAA;YAAA,OAAAJ,GAAA,CAAAzC,WAAA,GAAA6C,MAAA;UAAA,EAAyB;UAG1B7D,EAAA,CAAAG,YAAA,EAAW;UAIdH,EAAA,CAAAC,cAAA,cAAwB;UACfD,EAAA,CAAAE,MAAA,sBAAS;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACxBH,EAAA,CAAAC,cAAA,gBAOE;UAHAD,EAAA,CAAA0D,UAAA,2BAAAK,8DAAAF,MAAA;YAAA,OAAAJ,GAAA,CAAAxC,KAAA,GAAA4C,MAAA;UAAA,EAAmB;UAJrB7D,EAAA,CAAAG,YAAA,EAOE;UAIJH,EAAA,CAAAC,cAAA,cAAwB;UACfD,EAAA,CAAAE,MAAA,mBAAW;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UAC1BH,EAAA,CAAAC,cAAA,gBAQE;UAJAD,EAAA,CAAA0D,UAAA,2BAAAM,8DAAAH,MAAA;YAAA,OAAAJ,GAAA,CAAAtC,UAAA,GAAA0C,MAAA;UAAA,EAAwB;UAJ1B7D,EAAA,CAAAG,YAAA,EAQE;UAIJH,EAAA,CAAAC,cAAA,cAAwB;UACfD,EAAA,CAAAE,MAAA,kBAAU;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACzBH,EAAA,CAAAC,cAAA,gBAOE;UAHAD,EAAA,CAAA0D,UAAA,2BAAAO,8DAAAJ,MAAA;YAAA,OAAAJ,GAAA,CAAAvC,SAAA,GAAA2C,MAAA;UAAA,EAAuB;UAJzB7D,EAAA,CAAAG,YAAA,EAOE;UAIJH,EAAA,CAAAC,cAAA,cAAwB;UACfD,EAAA,CAAAE,MAAA,eAAO;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACtBH,EAAA,CAAAC,cAAA,kBAKC;UAFCD,EAAA,CAAA0D,UAAA,2BAAAQ,+DAAAL,MAAA;YAAA,OAAAJ,GAAA,CAAAnD,SAAA,GAAAuD,MAAA;UAAA,EAAuB;UAGvB7D,EAAA,CAAAC,cAAA,kBAAiB;UAAAD,EAAA,CAAAE,MAAA,4BAAoB;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAC9CH,EAAA,CAAAmE,UAAA,KAAAC,uCAAA,qBAES;UACXpE,EAAA,CAAAG,YAAA,EAAS;UAIXH,EAAA,CAAAC,cAAA,cAAwB;UACfD,EAAA,CAAAE,MAAA,6BAAqB;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACpCH,EAAA,CAAAC,cAAA,iBAQE;UAJAD,EAAA,CAAA0D,UAAA,2BAAAW,8DAAAR,MAAA;YAAA,OAAAJ,GAAA,CAAArC,YAAA,GAAAyC,MAAA;UAAA,EAA0B;UAJ5B7D,EAAA,CAAAG,YAAA,EAQE;UAIJH,EAAA,CAAAC,cAAA,kBAIC;UACCD,EAAA,CAAAE,MAAA,sBACF;UAAAF,EAAA,CAAAG,YAAA,EAAS;;;;UAhGLH,EAAA,CAAAO,SAAA,GAAuB;UAAvBP,EAAA,CAAAI,UAAA,YAAAqD,GAAA,CAAA1C,SAAA,CAAuB;UAavBf,EAAA,CAAAO,SAAA,GAAyB;UAAzBP,EAAA,CAAAI,UAAA,YAAAqD,GAAA,CAAAzC,WAAA,CAAyB;UAazBhB,EAAA,CAAAO,SAAA,GAAmB;UAAnBP,EAAA,CAAAI,UAAA,YAAAqD,GAAA,CAAAxC,KAAA,CAAmB;UAanBjB,EAAA,CAAAO,SAAA,GAAwB;UAAxBP,EAAA,CAAAI,UAAA,YAAAqD,GAAA,CAAAtC,UAAA,CAAwB;UAcxBnB,EAAA,CAAAO,SAAA,GAAuB;UAAvBP,EAAA,CAAAI,UAAA,YAAAqD,GAAA,CAAAvC,SAAA,CAAuB,QAAAuC,GAAA,CAAApC,YAAA;UAYvBrB,EAAA,CAAAO,SAAA,GAAuB;UAAvBP,EAAA,CAAAI,UAAA,YAAAqD,GAAA,CAAAnD,SAAA,CAAuB;UAIKN,EAAA,CAAAO,SAAA,GAAW;UAAXP,EAAA,CAAAI,UAAA,YAAAqD,GAAA,CAAAlC,QAAA,CAAW;UAavCvB,EAAA,CAAAO,SAAA,GAA0B;UAA1BP,EAAA,CAAAI,UAAA,YAAAqD,GAAA,CAAArC,YAAA,CAA0B;UAW5BpB,EAAA,CAAAO,SAAA,GAA8B;UAA9BP,EAAA,CAAAI,UAAA,aAAAkE,GAAA,CAAAC,OAAA,CAA8B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}