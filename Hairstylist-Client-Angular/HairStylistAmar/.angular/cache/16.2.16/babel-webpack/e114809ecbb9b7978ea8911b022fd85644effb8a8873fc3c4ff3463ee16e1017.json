{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/booking.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ViewBookingsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"i\", 5);\n    i0.ɵɵelementStart(2, \"p\", 6);\n    i0.ɵɵtext(3, \"No students have booked your batches yet.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-success\": a0,\n    \"bg-warning text-dark\": a1,\n    \"bg-danger\": a2\n  };\n};\nfunction ViewBookingsComponent_div_4_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 14);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.user.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.user.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 5, item_r4.bookingDate));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(7, _c0, item_r4.status === \"Confirmed\", item_r4.status === \"Pending\", item_r4.status === \"Cancelled\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.status, \" \");\n  }\n}\nfunction ViewBookingsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"h4\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 10);\n    i0.ɵɵelement(5, \"i\", 11);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"table\", 12)(9, \"thead\")(10, \"tr\")(11, \"th\");\n    i0.ɵɵtext(12, \"Student\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Booking Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"Status\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, ViewBookingsComponent_div_4_tr_20_Template, 11, 11, \"tr\", 13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const batch_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(batch_r2.batchName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Starts on: \", i0.ɵɵpipeBind1(7, 3, batch_r2.startDate), \" \");\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", batch_r2.bookings);\n  }\n}\nexport class ViewBookingsComponent {\n  constructor(bookingApi, router) {\n    this.bookingApi = bookingApi;\n    this.router = router;\n    this.groupedBookings = [];\n  }\n  ngOnInit() {\n    this.loadInstructorBookings();\n  }\n  loadInstructorBookings() {\n    const instructorId = localStorage.getItem(\"instructorId\");\n    if (!instructorId) {\n      alert(\"Instructor profile not found. Please login again.\");\n      this.router.navigate(['/login']);\n      return;\n    }\n    this.bookingApi.getBookingsByInstructor(instructorId).subscribe(res => {\n      const grouped = {};\n      res.forEach(booking => {\n        const batchId = booking.batch.batchId;\n        if (!grouped[batchId]) {\n          grouped[batchId] = {\n            batchName: booking.batch.batchName,\n            startDate: booking.batch.startDate,\n            bookings: []\n          };\n        }\n        grouped[batchId].bookings.push(booking);\n      });\n      this.groupedBookings = Object.values(grouped);\n    }, err => {\n      console.error(err);\n    });\n  }\n  static {\n    this.ɵfac = function ViewBookingsComponent_Factory(t) {\n      return new (t || ViewBookingsComponent)(i0.ɵɵdirectiveInject(i1.BookingService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewBookingsComponent,\n      selectors: [[\"app-view-bookings\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"container\", \"py-4\"], [1, \"page-title\", \"text-primary-custom\", \"mb-4\"], [\"class\", \"text-center text-muted mt-5\", 4, \"ngIf\"], [\"class\", \"mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\", \"text-muted\", \"mt-5\"], [1, \"bi\", \"bi-info-circle\", \"fs-2\"], [1, \"mt-2\"], [1, \"mb-4\"], [1, \"card\", \"card-custom\", \"p-4\", \"shadow-sm\"], [1, \"fw-bold\", \"text-primary-custom\"], [1, \"text-muted\", \"mb-3\"], [1, \"bi\", \"bi-calendar-event\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", 3, \"ngClass\"]],\n      template: function ViewBookingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Student Bookings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ViewBookingsComponent_div_3_Template, 4, 0, \"div\", 2);\n          i0.ɵɵtemplate(4, ViewBookingsComponent_div_4_Template, 21, 5, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.groupedBookings.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.groupedBookings);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe],\n      styles: [\"table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  vertical-align: middle;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW5zdHJ1Y3Rvci92aWV3LWJvb2tpbmdzL3ZpZXctYm9va2luZ3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHNCQUFzQjtBQUN4QiIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHRoLCB0YWJsZSB0ZCB7XHJcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","item_r4","user","fullName","email","ɵɵpipeBind1","bookingDate","ɵɵproperty","ɵɵpureFunction3","_c0","status","ɵɵtextInterpolate1","ɵɵtemplate","ViewBookingsComponent_div_4_tr_20_Template","batch_r2","batchName","startDate","bookings","ViewBookingsComponent","constructor","bookingApi","router","groupedBookings","ngOnInit","loadInstructorBookings","instructorId","localStorage","getItem","alert","navigate","getBookingsByInstructor","subscribe","res","grouped","forEach","booking","batchId","batch","push","Object","values","err","console","error","ɵɵdirectiveInject","i1","BookingService","i2","Router","selectors","decls","vars","consts","template","ViewBookingsComponent_Template","rf","ctx","ViewBookingsComponent_div_3_Template","ViewBookingsComponent_div_4_Template","length"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\instructor\\view-bookings\\view-bookings.component.ts","C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\instructor\\view-bookings\\view-bookings.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { BookingService } from '../../services/booking.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-view-bookings',\n  templateUrl: './view-bookings.component.html',\n  styleUrls: ['./view-bookings.component.css']\n})\nexport class ViewBookingsComponent implements OnInit {\n\n  groupedBookings: any[] = [];\n\n  constructor(\n    private bookingApi: BookingService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadInstructorBookings();\n  }\n\n  loadInstructorBookings() {\n  const instructorId = localStorage.getItem(\"instructorId\");\n\n  if (!instructorId) {\n    alert(\"Instructor profile not found. Please login again.\");\n    this.router.navigate(['/login']);\n    return;\n  }\n\n  this.bookingApi.getBookingsByInstructor(instructorId)\n    .subscribe(\n      (res: any[]) => {\n\n        const grouped: any = {};\n\n        res.forEach((booking: any) => {\n          const batchId = booking.batch.batchId;\n\n          if (!grouped[batchId]) {\n            grouped[batchId] = {\n              batchName: booking.batch.batchName,\n              startDate: booking.batch.startDate,\n              bookings: []\n            };\n          }\n\n          grouped[batchId].bookings.push(booking);\n        });\n\n        this.groupedBookings = Object.values(grouped);\n      },\n      (err) => {\n        console.error(err);\n      }\n    );\n}\n}\n\n","<div class=\"container py-4\">\n\n  <h2 class=\"page-title text-primary-custom mb-4\">Student Bookings</h2>\n\n  <!-- No bookings found -->\n  <div *ngIf=\"groupedBookings.length === 0\" class=\"text-center text-muted mt-5\">\n    <i class=\"bi bi-info-circle fs-2\"></i>\n    <p class=\"mt-2\">No students have booked your batches yet.</p>\n  </div>\n\n  <!-- Bookings Grouped By Batch -->\n  <div *ngFor=\"let batch of groupedBookings\" class=\"mb-4\">\n\n    <div class=\"card card-custom p-4 shadow-sm\">\n\n      <!-- Batch Header -->\n      <h4 class=\"fw-bold text-primary-custom\">{{ batch.batchName }}</h4>\n      <p class=\"text-muted mb-3\">\n        <i class=\"bi bi-calendar-event\"></i> Starts on:\n        {{ batch.startDate | date }}\n      </p>\n\n      <!-- Students Table -->\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Student</th>\n            <th>Email</th>\n            <th>Booking Date</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr *ngFor=\"let item of batch.bookings\">\n            <td>{{ item.user.fullName }}</td>\n            <td>{{ item.user.email }}</td>\n            <td>{{ item.bookingDate | date }}</td>\n\n            <td>\n              <span class=\"badge\"\n                    [ngClass]=\"{\n                      'bg-success': item.status === 'Confirmed',\n                      'bg-warning text-dark': item.status === 'Pending',\n                      'bg-danger': item.status === 'Cancelled'\n                    }\">\n                {{ item.status }}\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n    </div>\n\n  </div>\n\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}