{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/service.service\";\nimport * as i2 from \"src/app/services/batch.service\";\nimport * as i3 from \"src/app/services/booking.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction BookBatchComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 4);\n    i0.ÉµÉµelement(1, \"i\", 5);\n    i0.ÉµÉµelementStart(2, \"p\", 6);\n    i0.ÉµÉµtext(3, \"You have not booked any batches yet.\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"button\", 7);\n    i0.ÉµÉµtext(5, \"Book a Batch\");\n    i0.ÉµÉµelementEnd()();\n  }\n}\nfunction BookBatchComponent_div_4_div_1_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"button\", 19);\n    i0.ÉµÉµlistener(\"click\", function BookBatchComponent_div_4_div_1_button_17_Template_button_click_0_listener() {\n      i0.ÉµÉµrestoreView(_r7);\n      const booking_r3 = i0.ÉµÉµnextContext().$implicit;\n      const ctx_r5 = i0.ÉµÉµnextContext(2);\n      return i0.ÉµÉµresetView(ctx_r5.makePayment(booking_r3));\n    });\n    i0.ÉµÉµtext(1, \" Pay Now \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"badge-confirmed\": a0,\n    \"badge-pending\": a1,\n    \"badge-cancelled\": a2\n  };\n};\nfunction BookBatchComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"h5\", 12);\n    i0.ÉµÉµtext(3);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"p\", 13);\n    i0.ÉµÉµelement(5, \"i\", 14);\n    i0.ÉµÉµtext(6);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"p\", 13);\n    i0.ÉµÉµelement(8, \"i\", 15);\n    i0.ÉµÉµtext(9);\n    i0.ÉµÉµpipe(10, \"date\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(11, \"p\", 13);\n    i0.ÉµÉµelement(12, \"i\", 16);\n    i0.ÉµÉµtext(13);\n    i0.ÉµÉµpipe(14, \"date\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(15, \"span\", 17);\n    i0.ÉµÉµtext(16);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(17, BookBatchComponent_div_4_div_1_button_17_Template, 2, 0, \"button\", 18);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const booking_r3 = ctx.$implicit;\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate1(\" \", booking_r3.batch == null ? null : booking_r3.batch.batchName, \" \");\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate1(\" Instructor: \", booking_r3.batch == null ? null : booking_r3.batch.instructor == null ? null : booking_r3.batch.instructor.name, \" \");\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate1(\" Start Date: \", i0.ÉµÉµpipeBind1(10, 7, booking_r3.batch == null ? null : booking_r3.batch.startDate), \" \");\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtextInterpolate1(\" Booked on: \", i0.ÉµÉµpipeBind1(14, 9, booking_r3.bookingDate), \" \");\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction3(11, _c0, booking_r3.status === \"Confirmed\", booking_r3.status === \"Pending\", booking_r3.status === \"Cancelled\"));\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", booking_r3.status, \" \");\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", booking_r3.status === \"Pending\");\n  }\n}\nfunction BookBatchComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 8);\n    i0.ÉµÉµtemplate(1, BookBatchComponent_div_4_div_1_Template, 18, 15, \"div\", 9);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r1.bookings);\n  }\n}\nexport class BookBatchComponent {\n  constructor(serviceApi, batchApi, bookingApi, router) {\n    this.serviceApi = serviceApi;\n    this.batchApi = batchApi;\n    this.bookingApi = bookingApi;\n    this.router = router;\n    this.services = [];\n    this.batches = [];\n    this.selectedServiceId = '';\n    this.isLoading = false;\n  }\n  ngOnInit() {\n    this.loadServices();\n  }\n  // âœ… Load all services\n  loadServices() {\n    this.serviceApi.getAllServices().subscribe({\n      next: res => {\n        this.services = res;\n      },\n      error: err => {\n        console.error(\"Error loading services:\", err);\n      }\n    });\n  }\n  // âœ… Load batches based on selected service\n  loadBatches() {\n    if (!this.selectedServiceId) {\n      this.batches = [];\n      return;\n    }\n    this.isLoading = true;\n    this.batchApi.getAllBatches(this.selectedServiceId).subscribe({\n      next: res => {\n        this.batches = res;\n        this.isLoading = false;\n      },\n      error: err => {\n        console.error(\"Error loading batches:\", err);\n        this.isLoading = false;\n      }\n    });\n  }\n  // âœ… Book a batch\n  bookBatch(batchId) {\n    const userId = localStorage.getItem(\"userId\");\n    if (!userId) {\n      alert(\"Please login again.\");\n      this.router.navigate(['/login']);\n      return;\n    }\n    // ðŸ‘‰ Correct booking payload\n    const bookingData = {\n      userId: userId,\n      batchId: batchId,\n      bookingDate: new Date() // backend overrides anyway\n    };\n\n    console.log(\"Sending booking request:\", bookingData);\n    // ðŸ‘‰ Correct API call\n    this.bookingApi.createBooking(bookingData).subscribe({\n      next: res => {\n        alert(\"Batch booked successfully!\");\n        // Optional logs\n        console.log(\"Booking created:\", res);\n        // Redirect to Payment\n        this.router.navigate(['/user/payment'], {\n          state: {\n            bookingId: res.bookingId,\n            amount: res.amount // if API returns it\n          }\n        });\n      },\n\n      error: err => {\n        console.error(\"Error booking batch:\", err);\n        alert(\"Failed to book the batch. Please try again.\");\n      }\n    });\n  }\n  static {\n    this.Éµfac = function BookBatchComponent_Factory(t) {\n      return new (t || BookBatchComponent)(i0.ÉµÉµdirectiveInject(i1.ServiceService), i0.ÉµÉµdirectiveInject(i2.BatchService), i0.ÉµÉµdirectiveInject(i3.BookingService), i0.ÉµÉµdirectiveInject(i4.Router));\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: BookBatchComponent,\n      selectors: [[\"app-book-batch\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"beauty-container\", \"py-4\"], [1, \"page-title\", \"beauty-title\", \"mb-4\"], [\"class\", \"text-center text-muted mt-5\", 4, \"ngIf\"], [\"class\", \"row g-4\", 4, \"ngIf\"], [1, \"text-center\", \"text-muted\", \"mt-5\"], [1, \"bi\", \"bi-info-circle\", \"fs-2\", \"text-primary-custom\"], [1, \"mt-2\"], [\"routerLink\", \"/user/book\", 1, \"beauty-btn\", \"mt-3\"], [1, \"row\", \"g-4\"], [\"class\", \"col-md-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\"], [1, \"beauty-card\", \"p-4\", \"hover-beauty-card\"], [1, \"fw-bold\", \"beauty-card-title\"], [1, \"beauty-info\", \"mb-1\"], [1, \"bi\", \"bi-person-badge\"], [1, \"bi\", \"bi-calendar-event\"], [1, \"bi\", \"bi-clock-history\"], [1, \"beauty-badge\", \"mt-3\", 3, \"ngClass\"], [\"class\", \"beauty-btn w-100 mt-3\", 3, \"click\", 4, \"ngIf\"], [1, \"beauty-btn\", \"w-100\", \"mt-3\", 3, \"click\"]],\n      template: function BookBatchComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ÉµÉµtext(2, \"My Bookings\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(3, BookBatchComponent_div_3_Template, 6, 0, \"div\", 2);\n          i0.ÉµÉµtemplate(4, BookBatchComponent_div_4_Template, 2, 1, \"div\", 3);\n          i0.ÉµÉµelementEnd();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.bookings.length === 0);\n          i0.ÉµÉµadvance(1);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.bookings.length > 0);\n        }\n      },\n      dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i4.RouterLink, i5.DatePipe],\n      styles: [\"\\n\\n.page-title[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  font-weight: 700;\\n  color: #7A4EAB; \\n\\n  margin-bottom: 20px;\\n}\\n\\n\\n\\n.card-custom[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #FDE2E4, #E6E0FF); \\n\\n  border-radius: 16px;\\n  border: none;\\n  box-shadow: 0 6px 18px rgba(122, 78, 171, 0.15);\\n  transition: transform .3s ease, box-shadow .3s ease;\\n}\\n\\n\\n\\n.hover-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-6px);\\n  box-shadow: 0 12px 26px rgba(122, 78, 171, 0.25);\\n}\\n\\n\\n\\nh5.fw-bold[_ngcontent-%COMP%] {\\n  color: #7A4EAB;\\n  margin-bottom: 10px;\\n}\\n\\n.text-muted[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  color: #A57AD1;\\n}\\n\\n\\n\\n.btn-primary-custom[_ngcontent-%COMP%] {\\n  background-color: #7A4EAB;\\n  border: none;\\n  border-radius: 12px;\\n  padding: 10px 14px;\\n  font-weight: 600;\\n  transition: background .25s ease;\\n}\\n\\n.btn-primary-custom[_ngcontent-%COMP%]:hover {\\n  background-color: #5e3791;\\n}\\n\\n\\n\\n.form-select[_ngcontent-%COMP%] {\\n  border-radius: 12px;\\n  padding: 10px;\\n  border: 1px solid #d6c5f2;\\n  box-shadow: none;\\n}\\n\\n.form-select[_ngcontent-%COMP%]:focus {\\n  border-color: #7A4EAB;\\n  box-shadow: 0 0 5px rgba(122, 78, 171, 0.4);\\n}\\n\\n\\n\\n.spinner-border[_ngcontent-%COMP%] {\\n  color: #7A4EAB !important;\\n}\\n\\n.text-muted[_ngcontent-%COMP%] {\\n  color: #777 !important;\\n}\\n\\n\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n  from { opacity: 0; transform: translateY(10px); }\\n  to   { opacity: 1; transform: translateY(0); }\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_fadeIn 0.4s ease-in-out;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9ib29rLWJhdGNoL2Jvb2stYmF0Y2guY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxlQUFlO0FBQ2Y7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGNBQWMsRUFBRSxvQkFBb0I7RUFDcEMsbUJBQW1CO0FBQ3JCOztBQUVBLGlCQUFpQjtBQUNqQjtFQUNFLHFEQUFxRCxFQUFFLHlCQUF5QjtFQUNoRixtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLCtDQUErQztFQUMvQyxtREFBbUQ7QUFDckQ7O0FBRUEsZ0NBQWdDO0FBQ2hDO0VBQ0UsMkJBQTJCO0VBQzNCLGdEQUFnRDtBQUNsRDs7QUFFQSxpQkFBaUI7QUFDakI7RUFDRSxjQUFjO0VBQ2QsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQSxtQkFBbUI7QUFDbkI7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSxnQkFBZ0I7QUFDaEI7RUFDRSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsMkNBQTJDO0FBQzdDOztBQUVBLGdCQUFnQjtBQUNoQjtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQSw0Q0FBNEM7QUFDNUM7RUFDRSxPQUFPLFVBQVUsRUFBRSwyQkFBMkIsRUFBRTtFQUNoRCxPQUFPLFVBQVUsRUFBRSx3QkFBd0IsRUFBRTtBQUMvQzs7QUFFQTtFQUNFLGtDQUFrQztBQUNwQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFBhZ2UgdGl0bGUgKi9cclxuLnBhZ2UtdGl0bGUge1xyXG4gIGZvbnQtc2l6ZTogMjhweDtcclxuICBmb250LXdlaWdodDogNzAwO1xyXG4gIGNvbG9yOiAjN0E0RUFCOyAvKiBMYXZlbmRlciBQdXJwbGUgKi9cclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4vKiBDYXJkIFN0eWxpbmcgKi9cclxuLmNhcmQtY3VzdG9tIHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjRkRFMkU0LCAjRTZFMEZGKTsgLyogU29mdCBwaW5rIMOiwobCkiBsYXZlbmRlciAqL1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJveC1zaGFkb3c6IDAgNnB4IDE4cHggcmdiYSgxMjIsIDc4LCAxNzEsIDAuMTUpO1xyXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZSwgYm94LXNoYWRvdyAuM3MgZWFzZTtcclxufVxyXG5cclxuLyogSG92ZXIgZWZmZWN0IG9uIGJhdGNoIGNhcmRzICovXHJcbi5ob3Zlci1jYXJkOmhvdmVyIHtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTZweCk7XHJcbiAgYm94LXNoYWRvdzogMCAxMnB4IDI2cHggcmdiYSgxMjIsIDc4LCAxNzEsIDAuMjUpO1xyXG59XHJcblxyXG4vKiBUZXh0IHN0eWxpbmcgKi9cclxuaDUuZnctYm9sZCB7XHJcbiAgY29sb3I6ICM3QTRFQUI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLnRleHQtbXV0ZWQgaSB7XHJcbiAgY29sb3I6ICNBNTdBRDE7XHJcbn1cclxuXHJcbi8qIFByaW1hcnkgQnV0dG9uICovXHJcbi5idG4tcHJpbWFyeS1jdXN0b20ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM3QTRFQUI7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgcGFkZGluZzogMTBweCAxNHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAuMjVzIGVhc2U7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeS1jdXN0b206aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM1ZTM3OTE7XHJcbn1cclxuXHJcbi8qIEZvcm0gc2VsZWN0ICovXHJcbi5mb3JtLXNlbGVjdCB7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNkNmM1ZjI7XHJcbiAgYm94LXNoYWRvdzogbm9uZTtcclxufVxyXG5cclxuLmZvcm0tc2VsZWN0OmZvY3VzIHtcclxuICBib3JkZXItY29sb3I6ICM3QTRFQUI7XHJcbiAgYm94LXNoYWRvdzogMCAwIDVweCByZ2JhKDEyMiwgNzgsIDE3MSwgMC40KTtcclxufVxyXG5cclxuLyogTG9hZGVyIHRleHQgKi9cclxuLnNwaW5uZXItYm9yZGVyIHtcclxuICBjb2xvcjogIzdBNEVBQiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udGV4dC1tdXRlZCB7XHJcbiAgY29sb3I6ICM3NzcgIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogRmFkZS1pbiBhbmltYXRpb24gZm9yIGJlYXV0eSBzbW9vdGhuZXNzICovXHJcbkBrZXlmcmFtZXMgZmFkZUluIHtcclxuICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwcHgpOyB9XHJcbiAgdG8gICB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfVxyXG59XHJcblxyXG4uY29udGFpbmVyIHtcclxuICBhbmltYXRpb246IGZhZGVJbiAwLjRzIGVhc2UtaW4tb3V0O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ÉµÉµelementStart","ÉµÉµelement","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµlistener","BookBatchComponent_div_4_div_1_button_17_Template_button_click_0_listener","ÉµÉµrestoreView","_r7","booking_r3","ÉµÉµnextContext","$implicit","ctx_r5","ÉµÉµresetView","makePayment","ÉµÉµtemplate","BookBatchComponent_div_4_div_1_button_17_Template","ÉµÉµadvance","ÉµÉµtextInterpolate1","batch","batchName","instructor","name","ÉµÉµpipeBind1","startDate","bookingDate","ÉµÉµproperty","ÉµÉµpureFunction3","_c0","status","BookBatchComponent_div_4_div_1_Template","ctx_r1","bookings","BookBatchComponent","constructor","serviceApi","batchApi","bookingApi","router","services","batches","selectedServiceId","isLoading","ngOnInit","loadServices","getAllServices","subscribe","next","res","error","err","console","loadBatches","getAllBatches","bookBatch","batchId","userId","localStorage","getItem","alert","navigate","bookingData","Date","log","createBooking","state","bookingId","amount","ÉµÉµdirectiveInject","i1","ServiceService","i2","BatchService","i3","BookingService","i4","Router","selectors","decls","vars","consts","template","BookBatchComponent_Template","rf","ctx","BookBatchComponent_div_3_Template","BookBatchComponent_div_4_Template","length"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\user\\book-batch\\book-batch.component.ts","C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\user\\book-batch\\book-batch.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ServiceService } from 'src/app/services/service.service';\nimport { BatchService } from 'src/app/services/batch.service';\nimport { BookingService } from 'src/app/services/booking.service';\n\n@Component({\n  selector: 'app-book-batch',\n  templateUrl: './book-batch.component.html',\n  styleUrls: ['./book-batch.component.css']\n})\nexport class BookBatchComponent implements OnInit {\n\n  services: any[] = [];\n  batches: any[] = [];\n\n  selectedServiceId: string = '';\n  isLoading: boolean = false;\n\n  constructor(\n    private serviceApi: ServiceService,\n    private batchApi: BatchService,\n    private bookingApi: BookingService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadServices();\n  }\n\n  // âœ… Load all services\n  loadServices(): void {\n    this.serviceApi.getAllServices().subscribe({\n      next: (res) => {\n        this.services = res;\n      },\n      error: (err) => {\n        console.error(\"Error loading services:\", err);\n      }\n    });\n  }\n\n  // âœ… Load batches based on selected service\n  loadBatches(): void {\n    if (!this.selectedServiceId) {\n      this.batches = [];\n      return;\n    }\n\n    this.isLoading = true;\n\n    this.batchApi.getAllBatches(this.selectedServiceId).subscribe({\n      next: (res) => {\n        this.batches = res;\n        this.isLoading = false;\n      },\n      error: (err) => {\n        console.error(\"Error loading batches:\", err);\n        this.isLoading = false;\n      }\n    });\n  }\n\n  // âœ… Book a batch\n  bookBatch(batchId: string): void {\n    const userId = localStorage.getItem(\"userId\");\n\n    if (!userId) {\n      alert(\"Please login again.\");\n      this.router.navigate(['/login']);\n      return;\n    }\n\n    // ðŸ‘‰ Correct booking payload\n    const bookingData = {\n      userId: userId,\n      batchId: batchId,\n      bookingDate: new Date() // backend overrides anyway\n    };\n\n    console.log(\"Sending booking request:\", bookingData);\n\n    // ðŸ‘‰ Correct API call\n    this.bookingApi.createBooking(bookingData).subscribe({\n      next: (res: any) => {\n        alert(\"Batch booked successfully!\");\n\n        // Optional logs\n        console.log(\"Booking created:\", res);\n\n        // Redirect to Payment\n        this.router.navigate(['/user/payment'], {\n          state: {\n            bookingId: res.bookingId,\n            amount: res.amount // if API returns it\n          }\n        });\n      },\n      error: (err) => {\n        console.error(\"Error booking batch:\", err);\n        alert(\"Failed to book the batch. Please try again.\");\n      }\n    });\n  }\n\n}\n","<div class=\"beauty-container py-4\">\n\n  <h2 class=\"page-title beauty-title mb-4\">My Bookings</h2>\n\n  <!-- No bookings message -->\n  <div *ngIf=\"bookings.length === 0\" class=\"text-center text-muted mt-5\">\n    <i class=\"bi bi-info-circle fs-2 text-primary-custom\"></i>\n    <p class=\"mt-2\">You have not booked any batches yet.</p>\n\n    <button class=\"beauty-btn mt-3\" routerLink=\"/user/book\">Book a Batch</button>\n  </div>\n\n  <!-- Bookings list -->\n  <div class=\"row g-4\" *ngIf=\"bookings.length > 0\">\n\n    <div class=\"col-md-4\" *ngFor=\"let booking of bookings\">\n      \n      <div class=\"beauty-card p-4 hover-beauty-card\">\n\n        <h5 class=\"fw-bold beauty-card-title\">\n          {{ booking.batch?.batchName }}\n        </h5>\n\n        <p class=\"beauty-info mb-1\">\n          <i class=\"bi bi-person-badge\"></i>\n          Instructor: {{ booking.batch?.instructor?.name }}\n        </p>\n\n        <p class=\"beauty-info mb-1\">\n          <i class=\"bi bi-calendar-event\"></i>\n          Start Date: {{ booking.batch?.startDate | date }}\n        </p>\n\n        <p class=\"beauty-info mb-1\">\n          <i class=\"bi bi-clock-history\"></i>\n          Booked on: {{ booking.bookingDate | date }}\n        </p>\n\n        <!-- Status Badge -->\n        <span class=\"beauty-badge mt-3\"\n              [ngClass]=\"{\n                'badge-confirmed': booking.status === 'Confirmed',\n                'badge-pending': booking.status === 'Pending',\n                'badge-cancelled': booking.status === 'Cancelled'\n              }\">\n          {{ booking.status }}\n        </span>\n\n        <!-- Payment Button -->\n        <button *ngIf=\"booking.status === 'Pending'\"\n                class=\"beauty-btn w-100 mt-3\"\n                (click)=\"makePayment(booking)\">\n          Pay Now\n        </button>\n\n      </div>\n\n    </div>\n\n  </div>\n\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}