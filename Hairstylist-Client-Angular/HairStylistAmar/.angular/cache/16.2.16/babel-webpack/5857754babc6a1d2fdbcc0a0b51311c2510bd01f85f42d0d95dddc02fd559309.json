{"ast":null,"code":"export class EditBatchComponent {\n  constructor(route, batchApi, serviceApi, router) {\n    this.route = route;\n    this.batchApi = batchApi;\n    this.serviceApi = serviceApi;\n    this.router = router;\n    this.batchId = \"\";\n    this.batchName = \"\";\n    this.description = \"\";\n    this.price = 0;\n    this.startDate = \"\";\n    this.serviceId = \"\";\n    this.services = [];\n    this.loaded = false;\n    // ✅ ADD THIS\n    this.minDate = \"\";\n  }\n  ngOnInit() {\n    this.batchId = this.route.snapshot.params['id'];\n    // ✅ SAME AS CREATE BATCH\n    this.minDate = new Date().toISOString().split('T')[0];\n    this.loadServices();\n    this.loadBatch();\n  }\n  loadServices() {\n    this.serviceApi.getAllServices().subscribe(res => this.services = res);\n  }\n  loadBatch() {\n    this.batchApi.getBatchById(this.batchId).subscribe(batch => {\n      this.batchName = batch.batchName;\n      this.description = batch.description;\n      this.price = batch.price;\n      this.startDate = batch.startDate.split(\"T\")[0];\n      this.serviceId = batch.serviceId;\n      this.loaded = true;\n    });\n  }\n  updateBatch() {\n    const instructorId = localStorage.getItem(\"userId\");\n    const updated = {\n      batchId: this.batchId,\n      batchName: this.batchName,\n      description: this.description,\n      startDate: this.startDate,\n      price: this.price,\n      instructorId,\n      serviceId: this.serviceId\n    };\n    this.batchApi.updateBatch(this.batchId, updated).subscribe({\n      next: () => {\n        alert(\"Batch updated successfully!\");\n        this.router.navigate(['/instructor/manage-batches']);\n      }\n    });\n  }\n}","map":{"version":3,"names":["EditBatchComponent","constructor","route","batchApi","serviceApi","router","batchId","batchName","description","price","startDate","serviceId","services","loaded","minDate","ngOnInit","snapshot","params","Date","toISOString","split","loadServices","loadBatch","getAllServices","subscribe","res","getBatchById","batch","updateBatch","instructorId","localStorage","getItem","updated","next","alert","navigate"],"sources":["C:\\Users\\Sagar\\OneDrive\\Desktop\\Hairstylist Amar\\HairstylistAmar-Client-Angular\\HairStylistAmar\\src\\app\\instructor\\edit-batch\\edit-batch.component.ts"],"sourcesContent":["export class EditBatchComponent implements OnInit {\n\n  batchId = \"\";\n  batchName = \"\";\n  description = \"\";\n  price = 0;\n  startDate = \"\";\n  serviceId = \"\";\n\n  services: any[] = [];\n  loaded = false;\n\n  // ✅ ADD THIS\n  minDate: string = \"\";\n\n  constructor(\n    private route: ActivatedRoute,\n    private batchApi: BatchService,\n    private serviceApi: ServiceService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.batchId = this.route.snapshot.params['id'];\n\n    // ✅ SAME AS CREATE BATCH\n    this.minDate = new Date().toISOString().split('T')[0];\n\n    this.loadServices();\n    this.loadBatch();\n  }\n\n  loadServices() {\n    this.serviceApi.getAllServices().subscribe(res => this.services = res);\n  }\n\n  loadBatch() {\n    this.batchApi.getBatchById(this.batchId).subscribe((batch: any) => {\n      this.batchName = batch.batchName;\n      this.description = batch.description;\n      this.price = batch.price;\n      this.startDate = batch.startDate.split(\"T\")[0];\n      this.serviceId = batch.serviceId;\n\n      this.loaded = true;\n    });\n  }\n\n  updateBatch() {\n    const instructorId = localStorage.getItem(\"userId\");\n\n    const updated = {\n      batchId: this.batchId,\n      batchName: this.batchName,\n      description: this.description,\n      startDate: this.startDate,\n      price: this.price,\n      instructorId,\n      serviceId: this.serviceId\n    };\n\n    this.batchApi.updateBatch(this.batchId, updated).subscribe({\n      next: () => {\n        alert(\"Batch updated successfully!\");\n        this.router.navigate(['/instructor/manage-batches']);\n      }\n    });\n  }\n}\n"],"mappings":"AAAA,OAAM,MAAOA,kBAAkB;EAe7BC,YACUC,KAAqB,EACrBC,QAAsB,EACtBC,UAA0B,EAC1BC,MAAc;IAHd,KAAAH,KAAK,GAALA,KAAK;IACL,KAAAC,QAAQ,GAARA,QAAQ;IACR,KAAAC,UAAU,GAAVA,UAAU;IACV,KAAAC,MAAM,GAANA,MAAM;IAjBhB,KAAAC,OAAO,GAAG,EAAE;IACZ,KAAAC,SAAS,GAAG,EAAE;IACd,KAAAC,WAAW,GAAG,EAAE;IAChB,KAAAC,KAAK,GAAG,CAAC;IACT,KAAAC,SAAS,GAAG,EAAE;IACd,KAAAC,SAAS,GAAG,EAAE;IAEd,KAAAC,QAAQ,GAAU,EAAE;IACpB,KAAAC,MAAM,GAAG,KAAK;IAEd;IACA,KAAAC,OAAO,GAAW,EAAE;EAOjB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACT,OAAO,GAAG,IAAI,CAACJ,KAAK,CAACc,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IAE/C;IACA,IAAI,CAACH,OAAO,GAAG,IAAII,IAAI,EAAE,CAACC,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAErD,IAAI,CAACC,YAAY,EAAE;IACnB,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAD,YAAYA,CAAA;IACV,IAAI,CAACjB,UAAU,CAACmB,cAAc,EAAE,CAACC,SAAS,CAACC,GAAG,IAAI,IAAI,CAACb,QAAQ,GAAGa,GAAG,CAAC;EACxE;EAEAH,SAASA,CAAA;IACP,IAAI,CAACnB,QAAQ,CAACuB,YAAY,CAAC,IAAI,CAACpB,OAAO,CAAC,CAACkB,SAAS,CAAEG,KAAU,IAAI;MAChE,IAAI,CAACpB,SAAS,GAAGoB,KAAK,CAACpB,SAAS;MAChC,IAAI,CAACC,WAAW,GAAGmB,KAAK,CAACnB,WAAW;MACpC,IAAI,CAACC,KAAK,GAAGkB,KAAK,CAAClB,KAAK;MACxB,IAAI,CAACC,SAAS,GAAGiB,KAAK,CAACjB,SAAS,CAACU,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC9C,IAAI,CAACT,SAAS,GAAGgB,KAAK,CAAChB,SAAS;MAEhC,IAAI,CAACE,MAAM,GAAG,IAAI;IACpB,CAAC,CAAC;EACJ;EAEAe,WAAWA,CAAA;IACT,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAEnD,MAAMC,OAAO,GAAG;MACd1B,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBC,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BE,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBD,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBoB,YAAY;MACZlB,SAAS,EAAE,IAAI,CAACA;KACjB;IAED,IAAI,CAACR,QAAQ,CAACyB,WAAW,CAAC,IAAI,CAACtB,OAAO,EAAE0B,OAAO,CAAC,CAACR,SAAS,CAAC;MACzDS,IAAI,EAAEA,CAAA,KAAK;QACTC,KAAK,CAAC,6BAA6B,CAAC;QACpC,IAAI,CAAC7B,MAAM,CAAC8B,QAAQ,CAAC,CAAC,4BAA4B,CAAC,CAAC;MACtD;KACD,CAAC;EACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}